
----------------------------- Tabelas do Banco -----------------------------


CREATE TABLE TB_APARTAMENTO(
  CD_APARTAMENTO SERIAL,
  CD_SETOR INTEGER CONSTRAINT NN_TB_APARTAMENTO_CD_SETOR NOT NULL,
  DESC_APARTAMENTO VARCHAR(10) CONSTRAINT NN_TB_APARTAMENTO_DESC_APARTAMENTO NOT NULL,
  CD_CATG_TIPO INTEGER CONSTRAINT NN_TB_APARTAMENTO_CD_CATG_TIPO NOT NULL,
  CD_VL_CATG_TIPO INTEGER CONSTRAINT NN_TB_APARTAMENTO_CD_CATG_TIPO NOT NUll,
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_APARTAMENTO_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_APARTAMENTO_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_APARTAMENTO_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_APARTAMENTO_DT_USUARIO_ATUALIZA NOT NULL,   
  CONSTRAINT PK_TB_APARTAMENTO_CD_APARTAMENTO PRIMARY KEY(CD_APARTAMENTO)
);

CREATE TABLE TB_CATEGORIA(
  CD_CATEGORIA SERIAL,
  DESC_CATEGORIA VARCHAR(50) CONSTRAINT NN_TB_CATEGORIA_DESC_CATEGORIA NOT NULL,
  CD_USUARIO_CRIACAO INTEGER,
  DT_USUARIO_CRIACAO TIMESTAMP,   
  CD_USUARIO_ATUALIZA INTEGER,
  DT_USUARIO_ATUALIZA TIMESTAMP,  
  CONSTRAINT PK_TB_CATEGORIA_CD_CATEGORIA PRIMARY KEY(CD_CATEGORIA)
);

CREATE TABLE TB_CATEGORIA_VALOR(
  CD_VL_CATEGORIA SERIAL,
  CD_CATEGORIA INTEGER CONSTRAINT NN_TB_CATEGORIA_VALOR_CD_CATEGORIA NOT NULL,
  DESC_VL_CATG VARCHAR(40) CONSTRAINT NN_TB_CATEGORIA_VALOR_DESC_VL_CATG NOT NULL,
  GENERO CHAR(1),
  CD_USUARIO_CRIACAO INTEGER,
  DT_USUARIO_CRIACAO TIMESTAMP,   
  CD_USUARIO_ATUALIZA INTEGER,
  DT_USUARIO_ATUALIZA TIMESTAMP,  
  CONSTRAINT PK_TB_CD_VL_CATEGORIA_CD_VL_CATEGORIA PRIMARY KEY(CD_VL_CATEGORIA, CD_CATEGORIA)
);

/*
CAMPO IE_APROVADO

P - EM PROCESSO DE APROVACAO
A - APRAVADO
R - REPROVADO
*/

CREATE TABLE TB_ITENS_ORCAMENTO(
  NR_SEQUENCIA SERIAL,
  CD_ORCAMENTO INTEGER CONSTRAINT NN_TB_ITENS_ORCAMENTO_CD_ORCAMENTO NOT NULL,
  CD_PESSOA_JURIDICA INTEGER CONSTRAINT NN_TB_ITENS_ORCAMENTO_CD_PESSOA_JURIDICA NOT NULL,
  DESC_ITEM VARCHAR(50) CONSTRAINT NN_TB_ITENS_ORCAMENTO_DESC_ITEM NOT NULL,
  QT_ITEM INTEGER CONSTRAINT NN_TB_ITENS_ORCAMENTO_QT_ITEM NOT NULL,
  VALOR_UNIT NUMERIC(12,2) CONSTRAINT NN_TB_ITENS_ORCAMENTO_VALOR_UNIT NOT NULL,
  VALOR_TOTAL NUMERIC(12,2) CONSTRAINT NN_TB_ITENS_ORCAMENTO_VALOR_TOTAL NOT NULL,
  IE_APROVADO CHAR(1) CONSTRAINT NN_TB_ITENS_ORCAMENTO_IE_APROVADO NOT NULL,
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_ITENS_ORCAMENTO_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_ITENS_ORCAMENTO_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_ITENS_ORCAMENTO_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_ITENS_ORCAMENTO_DT_USUARIO_ATUALIZA NOT NULL, 
  CONSTRAINT PK_TB_ITENS_ORCAMENTO_NR_SEQUENCIA PRIMARY KEY(NR_SEQUENCIA)
);

CREATE TABLE TB_MORADOR_ENDERECO(
  NR_SEQUENCIA SERIAL,
  CD_PESSOA_FISICA INTEGER CONSTRAINT NN_TB_MORADOR_ENDERECO_CD_PESSOA_FISICA NOT NULL,
  CD_APARTAMENTO INTEGER CONSTRAINT NN_TB_MORADOR_ENDERECO_CD_APARTAMENTO NOT NULL,
  DT_ENTRADA TIMESTAMP CONSTRAINT NN_TB_MORADOR_ENDERECO_DT_ENTRADA NOT NULL,
  DT_SAIDA TIMESTAMP,
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_MORADOR_ENDERECO_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_MORADOR_ENDERECO_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_MORADOR_ENDERECO_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_MORADOR_ENDERECO_DT_USUARIO_ATUALIZA NOT NULL, 
  CONSTRAINT PK_TB_MORADOR_ENDERECO_NR_SEQUENCIA PRIMARY KEY(NR_SEQUENCIA)
);

CREATE TABLE TB_OCORRENCIA_PF_ENVOLVIDA(
  CD_OCORRENCIA SERIAL,
  CD_PESSOA_FISICA INTEGER CONSTRAINT NN_TB_OCORRENCIA_PF_ENVOLVIDA_CD_PESSOA_FISICA NOT NULL,
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_OCORRENCIA_PF_ENVOLVIDA_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_OCORRENCIA_PF_ENVOLVIDA_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_OCORRENCIA_PF_ENVOLVIDA_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_OCORRENCIA_PF_ENVOLVIDA_DT_USUARIO_ATUALIZA NOT NULL, 
  CONSTRAINT PK_TB_CD_OCORRENCIA_CD_PESSOA_FISICA PRIMARY KEY(CD_OCORRENCIA, CD_PESSOA_FISICA)
);

CREATE TABLE TB_OCORRENCIA(
  CD_OCORRENCIA SERIAL,
  CD_SETOR INTEGER,
  CD_PF_INFORMANTE INTEGER CONSTRAINT NN_TB_OCORRENCIA_CD_PF_INFORMANTE NOT NULL,
  DESC_ASSUNTO VARCHAR(50) CONSTRAINT NN_TB_OCORRENCIA_DESC_ASSUNTO NOT NULL,
  DESC_OCORRENCIA TEXT CONSTRAINT NN_TB_OCORRENCIA_DESC_OCORRENCIA NOT NULL,
  DT_OCORRENCIA TIMESTAMP CONSTRAINT NN_TB_OCORRENCIA_DT_OCORRENCIA NOT NULL,
  DT_FIM TIMESTAMP,
  DESC_CONCLUSAO TEXT,
  CD_CATG_ESTAGIO INTEGER CONSTRAINT NN_TB_OCORRENCIA_CD_CATG_ESTAGIO NOT NULL,
  CD_VL_CATG_ESTAGIO INTEGER CONSTRAINT NN_TB_OCORRENCIA_CD_CATG_VL_ESTAGIO NOT NULL,
  CD_CATG_TIPO INTEGER CONSTRAINT NN_TB_OCORRENCIA_CD_CATG_TIPO NOT NULL,
  CD_VL_CATG_TIPO INTEGER CONSTRAINT NN_TB_OCORRENCIA_CD_CATG_TIPO NOT NULL,
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_OCORRENCIA_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_OCORRENCIA_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_OCORRENCIA_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_OCORRENCIA_DT_USUARIO_ATUALIZA NOT NULL, 
  CONSTRAINT PK_TB_OCORRENCIA_CD_OCORRENICA PRIMARY KEY(CD_OCORRENCIA)
);

CREATE TABLE TB_ORCAMENTO(
  CD_ORCAMENTO SERIAL,
  CD_ORDEM_SERVICO INTEGER,
  DS_ORCAMENTO VARCHAR(250) CONSTRAINT NN_TB_ORCAMENTO_DS_ORCAMENTO NOT NULL,
  DT_ORCAMENTO TIMESTAMP CONSTRAINT NN_TB_ORCAMENTO_DT_ORCAMENTO NOT NULL,
  DT_FIM TIMESTAMP,
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_ORCAMENTO_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_ORCAMENTO_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_ORCAMENTO_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_ORCAMENTO_DT_USUARIO_ATUALIZA NOT NULL,
  CONSTRAINT PK_TB_ORCAMENTO_CD_ORCAMENTO PRIMARY KEY(CD_ORCAMENTO)
);

CREATE TABLE TB_ORDEM_SERVICO(
  CD_ORDEM_SERVICO SERIAL,
  CD_OCORRENCIA INTEGER,
  CD_PF_EXECUTOR INTEGER,
  CD_PF_SOLICITANTE INTEGER CONSTRAINT NN_TB_ORDEM_SERVICO_CD_PF_SOLICITANTE NOT NULL,
  DESC_ASSUNTO VARCHAR(50) CONSTRAINT NN_TB_ORDEM_SERVICO_DESC_ASSUNTO NOT NULL,
  DESC_ORDEM_SERVICO TEXT CONSTRAINT NN_TB_ORDEM_SERVICO_DESC_ORDEM_SERVICO NOT NULL,
  DT_INICIO TIMESTAMP CONSTRAINT NN_TB_ORDEM_SERVICO_DT_INICIO NOT NULL,
  DT_FIM TIMESTAMP,
  CD_CATG_ESTAGIO INTEGER CONSTRAINT NN_TB_ORDEM_SERVICO_CD_CATG_ESTAGIO NOT NULL,
  CD_VL_CATG_ESTAGIO INTEGER CONSTRAINT NN_TB_ORDEM_SERVICO_CD_VL_CATG_ESTAGIO NOT NULL,
  CD_CATG_AVAL_ATENDIMENTO INTEGER,
  CD_VL_CATG_AVAL_ATENDIMENTO INTEGER,
  CD_CATG_AVAL_QUALIDADE INTEGER,
  CD_VL_CATG_AVAL_QUALIDADE INTEGER,
  DESC_CONCLUSAO TEXT,
  CD_CATG_TIPO INTEGER CONSTRAINT NN_TB_ORDEM_SERVICO_CD_CATG_TIPO NOT NULL,
  CD_VL_CATG_TIPO INTEGER CONSTRAINT NN_TB_ORDEM_SERVICO_CD_CATG_TIPO NOT NULL,
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_ORDEM_SERVICO_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_ORDEM_SERVICO_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_ORDEM_SERVICO_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_ORDEM_SERVICO_DT_USUARIO_ATUALIZA NOT NULL,
  CONSTRAINT PK_TB_ORDEM_SERVICO_CD_ORDEM_SERVICO PRIMARY KEY(CD_ORDEM_SERVICO)
);

CREATE TABLE TB_PESSOA_FISICA(
  CD_PESSOA_FISICA SERIAL,
  CD_PESSOA_JURIDICA INTEGER,
  CD_PROFISSAO INTEGER,
  NM_PESSOA_FISICA VARCHAR(50) CONSTRAINT NN_TB_PESSOA_FISICA_NM_PESSOA_FISICA NOT NULL,
  CPF VARCHAR(14),
  RG VARCHAR(15),
  CD_CATG_ORG_RG INTEGER,
  CD_VL_CATG_ORG_RG INTEGER,
  EMAIL VARCHAR(60),  
  DT_NASCIMENTO DATE,
  IE_SEXO CHAR(1) CONSTRAINT NN_TB_PESSOA_FISICA_IE_SEXO NOT NULL,
  IM_PERFIL OID,
  IE_ESTUDA CHAR(1),
  CD_INSTITUICAO INTEGER,
  DT_INICIO_CURSO DATE,
  DT_FIM_CURSO DATE,
  CD_CATG_GRAU_ENSINO INTEGER,
  CD_VL_CATG_GRAU_ENSINO INTEGER,
  CD_USUARIO_CRIACAO INTEGER,
  DT_USUARIO_CRIACAO TIMESTAMP,   
  CD_USUARIO_ATUALIZA INTEGER,
  DT_USUARIO_ATUALIZA TIMESTAMP,  
  CONSTRAINT PK_TB_PESSAO_FISICA_CD_PESSOA_FISICA PRIMARY KEY(CD_PESSOA_FISICA),
  CONSTRAINT UQ_TB_PESSOA_FISICA_CPF UNIQUE(CPF),
  CONSTRAINT UQ_TB_PESSOA_FISICA_RG UNIQUE(RG),
  CONSTRAINT UQ_TB_PESSOA_FISICA_EMAIL UNIQUE(EMAIL)
);

CREATE TABLE TB_PESSOA_JURIDICA(
  CD_PESSOA_JURIDICA SERIAL,
  CNPJ VARCHAR(18),
  NM_FANTASIA VARCHAR(50) CONSTRAINT NN_TB_PESSOA_JURIDICA_NM_FANTASIA NOT NULL,
  DESC_RAZAO VARCHAR(50) CONSTRAINT NN_TB_PESSOA_JURIDICA_DESC_RAZAO NOT NULL,
  IM_PERFIL OID,
  CD_CATG_TIPO_EMPRESA INTEGER,
  CD_TIPO_EMPRESA INTEGER,
  CD_CATG_RAMO_ATIVIDADE INTEGER,
  CD_RAMO_ATIVIDADE INTEGER,
  EMAIL VARCHAR(30),
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_PESSOA_JURIDICA_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_PESSOA_JURIDICA_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_PESSOA_JURIDICA_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_PESSOA_JURIDICA_DT_USUARIO_ATUALIZA NOT NULL,
  CONSTRAINT PK_TB_PESSAO_JURIDICA_CD_PESSOA_JURIDICA PRIMARY KEY(CD_PESSOA_JURIDICA),
  CONSTRAINT UQ_TB_PESSOA_JURIDICA_CGC UNIQUE(CNPJ),
  CONSTRAINT UQ_TB_PESSOA_JURIDICA_EMAIL UNIQUE(EMAIL)
);

CREATE TABLE TB_PF_ENDERECO(
  NR_SEQUENCIA SERIAL,
  CD_CATG_END INTEGER CONSTRAINT NN_TB_PF_ENDERECO_CD_CATG_END NOT NULL,
  CD_VL_CATG_END INTEGER CONSTRAINT NN_TB_PF_ENDERECO_CD_VL_CATG_END NOT NULL,
  CD_PESSOA_FISICA INTEGER CONSTRAINT NN_TB_PF_ENDERECO_CD_PESSOA_FISICA NOT NULL,
  CEP VARCHAR(9) CONSTRAINT NN_TB_PF_ENDERECO_CEP NOT NULL,
  RUA VARCHAR(50) CONSTRAINT NN_TB_PF_ENDERECO_RUA NOT NULL,
  NUMERO INTEGER CONSTRAINT NN_TB_PF_ENDERECO_NUMERO NOT NULL,
  BAIRRO VARCHAR(25) CONSTRAINT NN_TB_ENDERECO_BAIRRO NOT NULL,
  CIDADE VARCHAR(25) CONSTRAINT NN_TB_ENDERECO_CIDADE NOT NULL, 
  CD_CATG_ESTADO INTEGER CONSTRAINT NN_TB_PF_ENDERECO_CD_CATG_ESTADO NOT NULL,
  CD_VL_CATG_ESTADO INTEGER CONSTRAINT NN_TB_PF_ENDERECO_CD_VL_CATG_ESTADO NOT NULL,
  OBSERVACAO TEXT,
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_PF_ENDERECO_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_PF_ENDERECO_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_PF_ENDERECO_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_PF_ENDERECO_DT_USUARIO_ATUALIZA NOT NULL,
  CONSTRAINT PK_TB_PF_ENDERECO_NR_SEQUENCIA PRIMARY KEY(NR_SEQUENCIA)
);

CREATE TABLE TB_PJ_ENDERECO(
  NR_SEQUENCIA SERIAL,
  CD_CATG_END INTEGER CONSTRAINT NN_TB_PJ_ENDERECO_CD_CATG_END NOT NULL,
  CD_VL_CATG_END INTEGER CONSTRAINT NN_TB_PJ_ENDERECO_CD_VL_CATG_END NOT NULL,
  CD_PESSOA_JURIDICA INTEGER CONSTRAINT NN_TB_PJ_ENDERECO_CD_PESSOA_JURIDICA NOT NULL,
  CEP VARCHAR(9) CONSTRAINT NN_TB_PJ_ENDERECO_CEP NOT NULL,
  RUA VARCHAR(50) CONSTRAINT NN_TB_PJ_ENDERECO_RUA NOT NULL,
  NUMERO INTEGER CONSTRAINT NN_TB_PJ_ENDERECO_NUMERO NOT NULL,
  BAIRRO VARCHAR(25) CONSTRAINT NN_TB_PJ_ENDERECO_BAIRRO NOT NULL,
  CIDADE VARCHAR(25) CONSTRAINT NN_TB_PJ_ENDERECO_CIDADE NOT NULL,
  CD_CATG_ESTADO INTEGER CONSTRAINT NN_TB_PJ_ENDERECO_CD_CATG_ESTADO NOT NULL,
  CD_VL_CATG_ESTADO INTEGER CONSTRAINT NN_TB_PJ_ENDERECO_CD_VL_CATG_ESTADO NOT NULL,
  OBSERVACAO TEXT,
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_PJ_ENDERECO_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_PJ_ENDERECO_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_PJ_ENDERECO_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_PJ_ENDERECO_DT_USUARIO_ATUALIZA NOT NULL,
  CONSTRAINT PK_TB_PJ_ENDERECO_NR_SEQUENCIA PRIMARY KEY(NR_SEQUENCIA)
);

CREATE TABLE TB_PROFISSAO(
  CD_PROFISSAO SERIAL,
  NM_PROFISSAO VARCHAR(50) CONSTRAINT NN_TB_PROFISSAO_NM_PROFISSAO NOT NULL,
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_PROFISSAO_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_PROFISSAO_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_PROFISSAO_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_PROFISSAO_DT_USUARIO_ATUALIZA NOT NULL,
  CONSTRAINT PK_TB_PROFISSAO_CD_PROFISSAO PRIMARY KEY(CD_PROFISSAO)
);


CREATE TABLE tb_relacionados(
 cd_pessoa_fisica_1 INTEGER CONSTRAINT nn_tb_relacionados_cd_pessoa_fisica_1 NOT NULL,
 cd_pessoa_fisica_2 INTEGER CONSTRAINT nn_tb_relacionados_cd_pessoa_fisica_2 NOT NULL,
 cd_catg_relac INTEGER CONSTRAINT nn_tb_relacionados_cd_catg_relac NOT NULL,
 cd_catg_vl_relac INTEGER CONSTRAINT nn_tb_relacionados_cd_catg_vl_relac NOT NULL,
 cd_usuario_criacao INTEGER CONSTRAINT nn_tb_relacionados_cd_usuario_criacao NOT NULL,
 dt_usuario_criacao TIMESTAMP CONSTRAINT nn_tb_relacionados_dt_usuario_criacao NOT NULL,
 cd_usuario_atualiza INTEGER CONSTRAINT nn_tb_relacionados_cd_usuario_atualiza NOT NULL,
 dt_usuario_atualiza TIMESTAMP CONSTRAINT nn_tb_relacionados_dt_usuairo_atualiza NOT NULL,
 CONSTRAINT pk_tb_relacionados PRIMARY KEY (cd_pessoa_fisica_1,cd_pessoa_fisica_2),
 CONSTRAINT fk_tb_relacionados_cd_pessoa_fisica_1 FOREIGN KEY(cd_pessoa_fisica_1)
 REFERENCES tb_pessoa_fisica(cd_pessoa_fisica),
 CONSTRAINT fk_tb_relacionados_cd_pessoa_fisica_2 FOREIGN KEY(cd_pessoa_fisica_2)
 REFERENCES tb_pessoa_fisica(cd_pessoa_fisica),
 CONSTRAINT fk_tb_relacionados_cd_catg_relac FOREIGN KEY(cd_catg_relac,cd_catg_vl_relac)
 REFERENCES tb_categoria_valor(cd_categoria,cd_vl_categoria) 
);


CREATE TABLE tb_relac_parametro(
 cd_catg_relac_1 INTEGER CONSTRAINT nn_tb_relac_parametro_cd_catg_relac_1  NOT NULL, 
 cd_catg_vl_relac_1 INTEGER CONSTRAINT nn_tb_relac_parametro_cd_catg_vl_relac_1 NOT NULL,
 cd_catg_relac_2 INTEGER CONSTRAINT nn_tb_relac_parametro_cd_catg_relac_2 NOT NULL, 
 cd_catg_vl_relac_2 INTEGER CONSTRAINT nn_tb_relac_parametro_cd_catg_vl_relac_2 NOT NULL, 
 cd_usuario_criacao INTEGER CONSTRAINT nn_tb_relac_parametro_cd_usuario_criacao NOT NULL,
 dt_usuario_criacao TIMESTAMP CONSTRAINT nn_tb_relac_parametro_dt_usuario_criacao NOT NULL,
 cd_usuario_atualiza INTEGER CONSTRAINT nn_tb_relac_parametro_cd_usuario_atualiza NOT NULL,
 dt_usuario_atualiza TIMESTAMP CONSTRAINT nn_tb_relac_parametro_dt_usuario_atualiza NOT NULL,
 CONSTRAINT fk_tb_relac_parametro_catg_1 FOREIGN KEY (cd_catg_relac_1,cd_catg_vl_relac_1)
 REFERENCES tb_categoria_valor(cd_categoria,cd_vl_categoria),
 CONSTRAINT fk_tb_relac_parametro_catg_2 FOREIGN KEY (cd_catg_relac_2,cd_catg_vl_relac_2)
 REFERENCES tb_categoria_valor(cd_categoria,cd_vl_categoria)  
); 


CREATE TABLE TB_SERVICO_ADICIONAL(
  CD_SERV_ADICIONAL SERIAL,
  CD_ORDEM_SERVICO INTEGER,
  CD_PESSOA_FISICA INTEGER,
  CD_CATG_SERVICO INTEGER CONSTRAINT NN_TB_SERVICO_ADICIONAL_CD_CATG_SERVICO NOT NULL,
  CD_VL_CATG_SERVICO INTEGER CONSTRAINT NN_TB_SERVICO_ADICIONAL_CD_CATG_VL_SERVICO NOT NULL,
  CD_SETOR INTEGER,
  CD_VAGA INTEGER,
  DT_INICIO TIMESTAMP CONSTRAINT NN_TB_SERVICO_ADICIIONAL_DT_INICIO NOT NULL,
  DT_FIM TIMESTAMP,
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_SERVICO_ADICIONAL_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_SERVICO_ADICIONAL_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_SERVICO_ADICIONAL_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_SERVICO_ADICIONAL_DT_USUARIO_ATUALIZA NOT NULL,
  CONSTRAINT PK_TB_SERVICO_ADICIONAL_CD_SERV_ADICIONAL PRIMARY KEY(CD_SERV_ADICIONAL)
);




CREATE TABLE TB_SETOR(
  CD_SETOR SERIAL,
  CD_CONDOMINIO INTEGER CONSTRAINT NN_TB_SETOR_CD_CONDOMINIO NOT NULL,
  NM_SETOR VARCHAR(50) CONSTRAINT NN_TB_SETOR_NM_SETOR NOT NULL,
  OBSERVACAO TEXT,
  IM_PERFIL OID,
  CD_CATG_TIPO INTEGER CONSTRAINT NN_TB_SETOR_CD_CATG_TIPO NOT NULL,
  CD_VL_CATG_TIPO INTEGER CONSTRAINT NN_TB_SETOR_CD_CATG_TIPO NOT NUll,
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_SETOR_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_SETOR_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_SETOR_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_SETOR_DT_USUARIO_ATUALIZA NOT NULL,
  CONSTRAINT PK_TB_SETOR_CD_SETOR PRIMARY KEY(CD_SETOR)
);

/*
Nivel de acesso
1 - Administrador
2 - Atendente
3 - Usuario
*/	

CREATE TABLE TB_USUARIO(
  CD_USUARIO INTEGER CONSTRAINT NN_TB_USUARIO_CD_PF_USU NOT NULL,  
  LOGIN VARCHAR(60) CONSTRAINT NN_TB_USUARIO_LOGIN NOT NULL,
  NIVEL INTEGER CONSTRAINT NN_TB_USUARIO_NIVEL NOT NULL,
  IE_STATUS CHAR(1) CONSTRAINT NN_TB_USUARIO_IE_STATUS NOT NULL,
  CD_USU_BANCO_OID BIGINT CONSTRAINT NN_TB_USUARIO_CD_USU_BANCO_OID NOT NULL,
  CD_USUARIO_CRIACAO INTEGER,
  DT_USUARIO_CRIACAO TIMESTAMP,   
  CD_USUARIO_ATUALIZA INTEGER,
  DT_USUARIO_ATUALIZA TIMESTAMP,
  CONSTRAINT PK_TB_USUARIO_CD_USUARIO PRIMARY KEY(CD_USUARIO)
);

CREATE TABLE TB_VAGA_GARAGEM(
 CD_VAGA SERIAL,
 DS_VAGA VARCHAR(25) CONSTRAINT NN_TB_VAGA_GARAGEM_DS_VAGA NOT NULL, 
 CD_SETOR INTEGER CONSTRAINT NN_TB_VAGA_GARAGEM_CD_SETOR NOT NULL,
 CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_VAGA_GARAGEM_CD_USUARIO_CRIACAO NOT NULL,
 DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_VAGA_GARAGEM_DT_USUARIO_CRIACAO NOT NULL,   
 CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_VAGA_GARAGEM_CD_USUARIO_ATUALIZA NOT NULL,
 DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_VAGA_GARAGEM_DT_USUARIO_ATUALIZA NOT NULL,
 CONSTRAINT PK_TB_VAGA_GARAGEM_CD_VAGA PRIMARY KEY(CD_VAGA)
);

CREATE TABLE TB_PF_TELEFONE(
 CD_PF_FONE SERIAL,
 CD_PESSOA_FISICA INTEGER CONSTRAINT NN_TB_PF_TELEFONE_CD_PESSOA_FISICA NOT NULL,
 FONE VARCHAR(15) CONSTRAINT NN_TB_PF_TELEFONE_FONE NOT NULL,
 OBSERVACAO TEXT,
 CD_CATG_FONE_PF INTEGER CONSTRAINT NN_TB_PF_TELEFONE_CD_CATG_FONE_PF NOT NULL,
 CD_VL_CATG_FONE_PF INTEGER CONSTRAINT NN_TB_PF_TELEFONE_CD_CATG_VL_FONE_PF NOT NULL,
 CD_CATG_OPERADORA INTEGER CONSTRAINT NN_TB_PF_TELEFONE_CD_CATG_OPERADORA NOT NULL,
 CD_VL_CATG_OPERADORA INTEGER CONSTRAINT NN_TB_PF_TELEFONE_CD_CATG_VL_OPERADORA NOT NULL,
 CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_PF_TELEFONE_CD_USUARIO_CRIACAO NOT NULL,
 DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_PF_TELEFONE_DT_USUARIO_CRIACAO NOT NULL,   
 CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_PF_TELEFONE_CD_USUARIO_ATUALIZA NOT NULL,
 DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_PF_TELEFONE_DT_USUARIO_ATUALIZA NOT NULL,
 CONSTRAINT PK_TB_PF_TELEFONE_CD_PF_FONE PRIMARY KEY(CD_PF_FONE)
);

CREATE TABLE TB_PJ_TELEFONE(
 CD_PJ_FONE SERIAL,
 CD_PESSOA_JURIDICA INTEGER CONSTRAINT NN_TB_PJ_TELEFONE_CD_PESSOA_JURIDICA NOT NULL,
 FONE VARCHAR(15) CONSTRAINT NN_TB_PJ_TELEFONE_FONE NOT NULL,
 OBSERVACAO TEXT,
 CD_CATG_FONE_PJ INTEGER CONSTRAINT NN_TB_PJ_TELEFONE_CD_CATG_FONE_PJ NOT NULL,
 CD_VL_CATG_FONE_PJ INTEGER CONSTRAINT NN_TB_PJ_TELEFONE_CD_CATG_VL_FONE_PJ NOT NULL,
 CD_CATG_OPERADORA INTEGER CONSTRAINT NN_TB_PJ_TELEFONE_CD_CATG_OPERADORA NOT NULL,
 CD_VL_CATG_OPERADORA INTEGER CONSTRAINT NN_TB_PJ_TELEFONE_CD_CATG_VL_OPERADORA NOT NULL,
 CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_PJ_TELEFONE_CD_USUARIO_CRIACAO NOT NULL,
 DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_PJ_TELEFONE_DT_USUARIO_CRIACAO NOT NULL,   
 CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_PJ_TELEFONE_CD_USUARIO_ATUALIZA NOT NULL, 
 DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_PJ_TELEFONE_DT_USUARIO_ATUALIZA NOT NULL,
 CONSTRAINT PK_TB_PJ_TELEFONE_CD_PJ_FONE PRIMARY KEY(CD_PJ_FONE) 
);

ALTER TABLE TB_PF_TELEFONE ADD CONSTRAINT FK_TB_PF_TELEFONE_CD_CATG_FONE_PF_CD_VL_CATG_FONE_PF 
FOREIGN KEY(CD_CATG_FONE_PF,CD_VL_CATG_FONE_PF)  REFERENCES TB_CATEGORIA_VALOR(CD_CATEGORIA,CD_VL_CATEGORIA);

ALTER TABLE TB_PJ_TELEFONE ADD CONSTRAINT FK_TB_PJ_TELEFONE_CD_CATG_FONE_PJ_CD_VL_CATG_FONE_PJ 
FOREIGN KEY(CD_CATG_FONE_PJ,CD_VL_CATG_FONE_PJ)  REFERENCES TB_CATEGORIA_VALOR(CD_CATEGORIA,CD_VL_CATEGORIA);

ALTER TABLE TB_PESSOA_FISICA ADD CONSTRAINT FK_TB_PESSOA_FISICA_CD_CATG_ORG_RG_CD_VL_CATG_ORG_RG 
FOREIGN KEY(CD_CATG_ORG_RG,CD_VL_CATG_ORG_RG)  REFERENCES TB_CATEGORIA_VALOR(CD_CATEGORIA,CD_VL_CATEGORIA);

ALTER TABLE TB_PESSOA_FISICA ADD CONSTRAINT FK_TB_PESSOA_FISICA_CD_CATG_GRAU_ENSINO_CD_VL_CATG_GRAU_ENSINO 
FOREIGN KEY(CD_CATG_GRAU_ENSINO,CD_VL_CATG_GRAU_ENSINO)  REFERENCES TB_CATEGORIA_VALOR(CD_CATEGORIA,CD_VL_CATEGORIA);

ALTER TABLE TB_SERVICO_ADICIONAL ADD CONSTRAINT FK_TB_SERVICO_ADICIONAL_CD_PESSOA_FISICA 
FOREIGN KEY(CD_PESSOA_FISICA) REFERENCES TB_PESSOA_FISICA(CD_PESSOA_FISICA);

ALTER TABLE TB_SERVICO_ADICIONAL ADD CONSTRAINT FK_TB_SERVICO_ADICIONAL_CD_CATG_SERVICO_CD_CATG_VL_SERVICO 
FOREIGN KEY(CD_CATG_SERVICO,CD_VL_CATG_SERVICO) REFERENCES TB_CATEGORIA_VALOR(CD_CATEGORIA,CD_VL_CATEGORIA);

ALTER TABLE TB_PESSOA_FISICA ADD CONSTRAINT FK_TB_PESSOA_FISICA_CD_INSTITUICAO
FOREIGN KEY(CD_INSTITUICAO) REFERENCES TB_PESSOA_JURIDICA(CD_PESSOA_JURIDICA);

ALTER TABLE TB_PJ_TELEFONE ADD CONSTRAINT FK_TB_PJ_TELEFONE 
FOREIGN KEY(CD_PESSOA_JURIDICA) REFERENCES TB_PESSOA_JURIDICA(CD_PESSOA_JURIDICA);

ALTER TABLE TB_PF_TELEFONE ADD CONSTRAINT FK_TB_PF_TELEFONE 
FOREIGN KEY(CD_PESSOA_FISICA) REFERENCES TB_PESSOA_FISICA(CD_PESSOA_FISICA);

ALTER TABLE TB_VAGA_GARAGEM ADD CONSTRAINT FK_TB_VAGA_GARAGEM_CD_SETOR 
FOREIGN KEY(CD_SETOR) REFERENCES TB_SETOR(CD_SETOR);

ALTER TABLE TB_USUARIO ADD CONSTRAINT FK_TB_USUARIO_CD_PESSOA_FISICA 
FOREIGN KEY(CD_USUARIO) REFERENCES TB_PESSOA_FISICA(CD_PESSOA_FISICA);

ALTER TABLE TB_SETOR ADD CONSTRAINT FK_TB_SETOR_CD_CONDOMINIO 
FOREIGN KEY(CD_CONDOMINIO) REFERENCES TB_PESSOA_JURIDICA(CD_PESSOA_JURIDICA);

ALTER TABLE TB_SETOR ADD CONSTRAINT FK_TB_SETOR_CD_CATG_TIPO_CD_VL_CATG_TIPO
FOREIGN KEY(CD_CATG_TIPO,CD_VL_CATG_TIPO) REFERENCES TB_CATEGORIA_VALOR(CD_CATEGORIA,CD_VL_CATEGORIA);

ALTER TABLE TB_SERVICO_ADICIONAL ADD CONSTRAINT FK_TB_SERVICO_ADICIONAL_CD_ORDEM_SERVICO
FOREIGN KEY(CD_ORDEM_SERVICO) REFERENCES TB_ORDEM_SERVICO(CD_ORDEM_SERVICO);

ALTER TABLE TB_SERVICO_ADICIONAL ADD CONSTRAINT FK_TB_SERVICO_ADICIONAL_CD_SETOR
FOREIGN KEY(CD_SETOR) REFERENCES TB_SETOR(CD_SETOR);

ALTER TABLE TB_PJ_ENDERECO ADD CONSTRAINT FK_TB_PJ_ENDERECO_CD_PESSOA_JURIDICA 
FOREIGN KEY(CD_PESSOA_JURIDICA) REFERENCES TB_PESSOA_JURIDICA(CD_PESSOA_JURIDICA);

ALTER TABLE TB_PJ_ENDERECO ADD CONSTRAINT FK_TB_PJ_ENDERECO_CD_CATG_END 
FOREIGN KEY(CD_CATG_END) REFERENCES TB_CATEGORIA(CD_CATEGORIA);

ALTER TABLE TB_PJ_ENDERECO ADD CONSTRAINT FK_TB_PJ_ENDERECO_CD_CATG_END_CD_VL_CATG_END 
FOREIGN KEY(CD_CATG_END,CD_VL_CATG_END) REFERENCES TB_CATEGORIA_VALOR(CD_CATEGORIA,CD_VL_CATEGORIA);

ALTER TABLE TB_PF_ENDERECO ADD CONSTRAINT FK_TB_PF_ENDERECO_CD_PESSOA_FISICA 
FOREIGN KEY(CD_PESSOA_FISICA) REFERENCES TB_PESSOA_FISICA(CD_PESSOA_FISICA);

ALTER TABLE TB_PF_ENDERECO ADD CONSTRAINT FK_TB_PF_ENDERECO_CD_CATG_END_CD_VL_CATG_END 
FOREIGN KEY(CD_CATG_END,CD_VL_CATG_END) REFERENCES TB_CATEGORIA_VALOR(CD_CATEGORIA,CD_VL_CATEGORIA);

ALTER TABLE TB_PESSOA_FISICA ADD CONSTRAINT FK_TB_PESSOA_FISICA_CD_PESSOA_JURIDICA 
FOREIGN KEY(CD_PESSOA_JURIDICA) REFERENCES TB_PESSOA_JURIDICA(CD_PESSOA_JURIDICA);

ALTER TABLE TB_PESSOA_FISICA ADD CONSTRAINT FK_TB_PESSOA_FISICA_CD_PROFISSAO 
FOREIGN KEY(CD_PROFISSAO) REFERENCES TB_PROFISSAO(CD_PROFISSAO);

ALTER TABLE TB_ORDEM_SERVICO ADD CONSTRAINT FK_TB_ORDEM_SERVICO_CD_OCORRENCIA 
FOREIGN KEY(CD_OCORRENCIA) REFERENCES TB_OCORRENCIA(CD_OCORRENCIA);

ALTER TABLE TB_ORDEM_SERVICO ADD CONSTRAINT FK_TB_ORDEM_SERVICO_CD_PF_EXECUTOR 
FOREIGN KEY(CD_PF_EXECUTOR) REFERENCES TB_PESSOA_FISICA(CD_PESSOA_FISICA);

ALTER TABLE TB_ORDEM_SERVICO ADD CONSTRAINT FK_TB_ORDEM_SERVICO_CD_PF_SOLICITANTE 
FOREIGN KEY(CD_PF_SOLICITANTE) REFERENCES TB_PESSOA_FISICA(CD_PESSOA_FISICA);

ALTER TABLE TB_ORCAMENTO ADD CONSTRAINT FK_TB_ORCAMENTO_CD_ORDEM_SERVICO 
FOREIGN KEY(CD_ORDEM_SERVICO) REFERENCES TB_ORDEM_SERVICO(CD_ORDEM_SERVICO);

ALTER TABLE TB_OCORRENCIA ADD CONSTRAINT FK_TB_OCORRENCIA_CD_PF_INFORMANTE 
FOREIGN KEY(CD_PF_INFORMANTE) REFERENCES TB_PESSOA_FISICA(CD_PESSOA_FISICA);

ALTER TABLE TB_OCORRENCIA_PF_ENVOLVIDA ADD CONSTRAINT FK_TB_OCORRENCIA_PF_ENVOLVIDA_CD_PESSOA_FISICA 
FOREIGN KEY(CD_PESSOA_FISICA) REFERENCES TB_PESSOA_FISICA(CD_PESSOA_FISICA);

ALTER TABLE TB_OCORRENCIA_PF_ENVOLVIDA ADD CONSTRAINT FK_TB_OCORRENCIA_PF_ENVOLVIDA_CD_OCORRENCIA 
FOREIGN KEY(CD_OCORRENCIA) REFERENCES TB_OCORRENCIA(CD_OCORRENCIA);

ALTER TABLE TB_MORADOR_ENDERECO ADD CONSTRAINT FK_TB_MORADOR_ENDERECO_CD_PESSOA_FISICA 
FOREIGN KEY(CD_PESSOA_FISICA) REFERENCES TB_PESSOA_FISICA(CD_PESSOA_FISICA);

ALTER TABLE TB_MORADOR_ENDERECO ADD CONSTRAINT FK_TB_MORADOR_ENDERECO_CD_APARTAMENTO 
FOREIGN KEY(CD_APARTAMENTO) REFERENCES TB_APARTAMENTO(CD_APARTAMENTO);

ALTER TABLE TB_ITENS_ORCAMENTO ADD CONSTRAINT FK_TB_ITENS_ORCAMENTO_CD_PESSOA_JURIDICA 
FOREIGN KEY(CD_PESSOA_JURIDICA) REFERENCES TB_PESSOA_JURIDICA(CD_PESSOA_JURIDICA);

ALTER TABLE TB_ITENS_ORCAMENTO ADD CONSTRAINT FK_TB_ITENS_ORCAMENTO_CD_ORCAMENTO 
FOREIGN KEY(CD_ORCAMENTO) REFERENCES TB_ORCAMENTO(CD_ORCAMENTO);

ALTER TABLE TB_CATEGORIA_VALOR ADD CONSTRAINT FK_TB_CATEGORIA_VALOR_CD_CATEGORIA 
FOREIGN KEY(CD_CATEGORIA) REFERENCES TB_CATEGORIA(CD_CATEGORIA);

ALTER TABLE TB_APARTAMENTO ADD CONSTRAINT FK_TB_APARTAMENTO_CD_SETOR 
FOREIGN KEY(CD_SETOR) REFERENCES TB_SETOR(CD_SETOR);

ALTER TABLE TB_APARTAMENTO ADD CONSTRAINT FK_TB_APARTAMENTO_CD_CATG_TIPO_CD_VL_CATG_TIPO
FOREIGN KEY(CD_CATG_TIPO,CD_VL_CATG_TIPO) REFERENCES TB_CATEGORIA_VALOR(CD_CATEGORIA,CD_VL_CATEGORIA);

ALTER TABLE TB_PF_ENDERECO ADD CONSTRAINT FK_TB_PF_ENDERECO_CD_CATG_ESTADO_CD_CATG_VL_ESTADO
FOREIGN KEY(CD_CATG_ESTADO,CD_VL_CATG_ESTADO) REFERENCES TB_CATEGORIA_VALOR(CD_CATEGORIA,CD_VL_CATEGORIA);

ALTER TABLE TB_PJ_ENDERECO ADD CONSTRAINT FK_TB_PJ_ENDERECO_CD_CATG_ESTADO_CD_CATG_VL_ESTADO  
FOREIGN KEY(CD_CATG_ESTADO,CD_VL_CATG_ESTADO) REFERENCES TB_CATEGORIA_VALOR(CD_CATEGORIA,CD_VL_CATEGORIA);

ALTER TABLE tb_ocorrencia ADD CONSTRAINT fk_tb_ocorrencia_cd_catg_tipo_cd_vl_catg_tipo 
FOREIGN KEY(cd_catg_tipo,cd_vl_catg_tipo) REFERENCES tb_categoria_valor(cd_categoria,cd_vl_categoria);

ALTER TABLE tb_ordem_servico ADD CONSTRAINT fk_tb_ordem_servico_cd_catg_tipo_cd_catg_vl_tipo 
FOREIGN KEY(cd_catg_tipo,cd_vl_catg_tipo) REFERENCES tb_categoria_valor(cd_categoria,cd_vl_categoria);


ALTER TABLE TB_OCORRENCIA ADD CONSTRAINT FK_TB_OCORRENCIA_CD_SETOR
FOREIGN KEY(CD_SETOR) REFERENCES TB_SETOR(CD_SETOR);

ALTER TABLE TB_USUARIO ADD CONSTRAINT FK_TB_USUARIO_CD_USUARIO_CRIACAO 
FOREIGN KEY(CD_USUARIO_CRIACAO) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_USUARIO ADD CONSTRAINT FK_TB_USUARIO_CD_USUARIO_ATUALIZA 
FOREIGN KEY(CD_USUARIO_ATUALIZA) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_SETOR ADD CONSTRAINT FK_TB_SETOR_CD_USUARIO_CRIACAO 
FOREIGN KEY(CD_USUARIO_CRIACAO) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_SETOR ADD CONSTRAINT FK_TB_SETOR_CD_USUARIO_ATUALIZA 
FOREIGN KEY(CD_USUARIO_ATUALIZA) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_SERVICO_ADICIONAL ADD CONSTRAINT FK_TB_SERVICO_ADICIONAL_CD_USUARIO_CRIACAO 
FOREIGN KEY(CD_USUARIO_CRIACAO) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_SERVICO_ADICIONAL ADD CONSTRAINT FK_TB_SERVICO_ADICIONAL_CD_USUARIO_ATUALIZA 
FOREIGN KEY(CD_USUARIO_ATUALIZA) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_RELACIONADOS ADD CONSTRAINT FK_TB_RELACIONADOS_CD_USUARIO_CRIACAO 
FOREIGN KEY(CD_USUARIO_CRIACAO) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_RELACIONADOS ADD CONSTRAINT FK_TB_RELACIONADOS_CD_USUARIO_ATUALIZA 
FOREIGN KEY(CD_USUARIO_ATUALIZA) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_PROFISSAO ADD CONSTRAINT FK_TB_PROFISSAO_CD_USUARIO_CRIACAO 
FOREIGN KEY(CD_USUARIO_CRIACAO) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_PROFISSAO ADD CONSTRAINT FK_TB_PROFISSAO_CD_USUARIO_ATUALIZA 
FOREIGN KEY(CD_USUARIO_ATUALIZA) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_PJ_ENDERECO ADD CONSTRAINT FK_TB_PJ_ENDERECO_CD_USUARIO_CRIACAO 
FOREIGN KEY(CD_USUARIO_CRIACAO) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_PJ_ENDERECO ADD CONSTRAINT FK_TB_PJ_ENDERECO_CD_USUARIO_ATUALIZA 
FOREIGN KEY(CD_USUARIO_ATUALIZA) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_PF_ENDERECO ADD CONSTRAINT FK_TB_PF_ENDERECO_CD_USUARIO_CRIACAO 
FOREIGN KEY(CD_USUARIO_CRIACAO) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_PF_ENDERECO ADD CONSTRAINT FK_TB_PF_ENDERECO_CD_USUARIO_ATUALIZA 
FOREIGN KEY(CD_USUARIO_ATUALIZA) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_PESSOA_JURIDICA ADD CONSTRAINT FK_TB_PESSOA_JURIDICA_CD_USUARIO_CRIACAO 
FOREIGN KEY(CD_USUARIO_CRIACAO) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_PESSOA_JURIDICA ADD CONSTRAINT FK_TB_PESSOA_JURIDICA_CD_USUARIO_ATUALIZA 
FOREIGN KEY(CD_USUARIO_ATUALIZA) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_PESSOA_JURIDICA ADD CONSTRAINT FK_TB_PESSOA_JURIDICA_CD_TIPO_EMPRESA
FOREIGN KEY(CD_CATG_TIPO_EMPRESA,CD_TIPO_EMPRESA) REFERENCES TB_CATEGORIA_VALOR(CD_CATEGORIA,CD_VL_CATEGORIA);

ALTER TABLE TB_PESSOA_JURIDICA ADD CONSTRAINT FK_TB_PESSOA_JURIDICA_CD_RAMO_ATIVIDADE
FOREIGN KEY(CD_CATG_RAMO_ATIVIDADE, CD_RAMO_ATIVIDADE) REFERENCES TB_CATEGORIA_VALOR(CD_CATEGORIA,CD_VL_CATEGORIA);

ALTER TABLE TB_PESSOA_FISICA ADD CONSTRAINT FK_TB_PESSOA_FISICA_CD_USUARIO_CRIACAO 
FOREIGN KEY(CD_USUARIO_CRIACAO) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_PESSOA_FISICA ADD CONSTRAINT FK_TB_PESSOA_FISICA_CD_USUARIO_ATUALIZA 
FOREIGN KEY(CD_USUARIO_ATUALIZA) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_ORDEM_SERVICO ADD CONSTRAINT FK_TB_ORDEM_SERVICO_CD_USUARIO_CRIACAO 
FOREIGN KEY(CD_USUARIO_CRIACAO) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_ORDEM_SERVICO ADD CONSTRAINT FK_TB_ORDEM_SERVICO_CD_USUARIO_ATUALIZA 
FOREIGN KEY(CD_USUARIO_ATUALIZA) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_ORCAMENTO ADD CONSTRAINT FK_TB_ORCAMENTO_CD_USUARIO_CRIACAO 
FOREIGN KEY(CD_USUARIO_CRIACAO) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_ORCAMENTO ADD CONSTRAINT FK_TB_ORCAMENTO_CD_USUARIO_ATUALIZA 
FOREIGN KEY(CD_USUARIO_ATUALIZA) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_OCORRENCIA ADD CONSTRAINT FK_TB_OCORRENCIA_CD_USUARIO_CRIACAO 
FOREIGN KEY(CD_USUARIO_CRIACAO) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_OCORRENCIA ADD CONSTRAINT FK_TB_OCORRENCIA_CD_USUARIO_ATUALIZA 
FOREIGN KEY(CD_USUARIO_ATUALIZA) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_OCORRENCIA_PF_ENVOLVIDA ADD CONSTRAINT FK_TB_OCORRENCIA_PF_ENVOLVIDA_CD_USUARIO_CRIACAO 
FOREIGN KEY(CD_USUARIO_CRIACAO) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_OCORRENCIA_PF_ENVOLVIDA ADD CONSTRAINT FK_TB_OCORRENCIA_PF_ENVOLVIDA_CD_USUARIO_ATUALIZA 
FOREIGN KEY(CD_USUARIO_ATUALIZA) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_MORADOR_ENDERECO ADD CONSTRAINT FK_TB_MORADOR_ENDERECO_CD_USUARIO_CRIACAO 
FOREIGN KEY(CD_USUARIO_CRIACAO) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_MORADOR_ENDERECO ADD CONSTRAINT FK_TB_MORADOR_ENDERECO_CD_USUARIO_ATUALIZA 
FOREIGN KEY(CD_USUARIO_ATUALIZA) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_ITENS_ORCAMENTO ADD CONSTRAINT FK_TB_ITENS_ORCAMENTO_CD_USUARIO_CRIACAO 
FOREIGN KEY(CD_USUARIO_CRIACAO) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_ITENS_ORCAMENTO ADD CONSTRAINT FK_TB_ITENS_ORCAMENTO_CD_USUARIO_ATUALIZA 
FOREIGN KEY(CD_USUARIO_ATUALIZA) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_CATEGORIA_VALOR ADD CONSTRAINT FK_TB_CATEGORIA_VALOR_CD_USUARIO_CRIACAO 
FOREIGN KEY(CD_USUARIO_CRIACAO) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_CATEGORIA_VALOR ADD CONSTRAINT FK_TB_CATEGORIA_VALOR_CD_USUARIO_ATUALIZA 
FOREIGN KEY(CD_USUARIO_ATUALIZA) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_CATEGORIA ADD CONSTRAINT FK_TB_CATEGORIA_CD_USUARIO_CRIACAO 
FOREIGN KEY(CD_USUARIO_CRIACAO) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_CATEGORIA ADD CONSTRAINT FK_TB_CATEGORIA_CD_USUARIO_ATUALIZA 
FOREIGN KEY(CD_USUARIO_ATUALIZA) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_APARTAMENTO ADD CONSTRAINT FK_TB_APARTAMENTO_CD_USUARIO_CRIACAO 
FOREIGN KEY(CD_USUARIO_CRIACAO) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_APARTAMENTO ADD CONSTRAINT FK_TB_APARTAMENTO_CD_USUARIO_ATUALIZA 
FOREIGN KEY(CD_USUARIO_ATUALIZA) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_VAGA_GARAGEM ADD CONSTRAINT FK_TB_VAGA_GARAGEM_CD_USUARIO_CRIACAO 
FOREIGN KEY(CD_USUARIO_CRIACAO) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_VAGA_GARAGEM ADD CONSTRAINT FK_TB_VAGA_GARAGEM_CD_USUARIO_ATUALIZA 
FOREIGN KEY(CD_USUARIO_ATUALIZA) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_PF_TELEFONE ADD CONSTRAINT FK_TB_PF_TELEFONE_CD_USUARIO_CRIACAO 
FOREIGN KEY(CD_USUARIO_CRIACAO) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_PF_TELEFONE ADD CONSTRAINT FK_TB_PF_TELEFONE_CD_USUARIO_ATUALIZA 
FOREIGN KEY(CD_USUARIO_ATUALIZA) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_PJ_TELEFONE ADD CONSTRAINT FK_TB_PJ_TELEFONE_CD_USUARIO_CRIACAO 
FOREIGN KEY(CD_USUARIO_CRIACAO) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_PJ_TELEFONE ADD CONSTRAINT FK_TB_PJ_TELEFONE_CD_USUARIO_ATUALIZA 
FOREIGN KEY(CD_USUARIO_ATUALIZA) REFERENCES TB_USUARIO(CD_USUARIO);

----------------------------- Tabelas de Logs -----------------------------

CREATE TABLE TB_APARTAMENTO_LOG(
  NR_SEQ_LOG INTEGER,
  USU_EXECUTOR INTEGER CONSTRAINT NN_TB_APARTAMENTO_LOG_USU_EXECUTOR NOT NULL,
  DT_EXECUTOR TIMESTAMP CONSTRAINT NN_TB_APARTAMENTO_LOG_DT_EXECUTOR NOT NULL,
  COMANDO_EXECUTADO CHAR(1) CONSTRAINT NN_TB_APARTAMENTO_LOG_COMANDO_EXECUTADO NOT NULL,   
  CD_APARTAMENTO INTEGER CONSTRAINT NN_TB_APARTAMENTO_LOG_CD_APARTAMENTO NOT NULL,
  CD_PREDIO INTEGER CONSTRAINT NN_TB_APARTAMENTO_LOG_CD_PREDIO NOT NULL,
  DESC_APARTAMENTO VARCHAR(10) CONSTRAINT NN_TB_APARTAMENTO_LOG_DESC_APARTAMENTO NOT NULL,
  CD_CATG_TIPO INTEGER CONSTRAINT NN_TB_APARTAMENTO_LOG_CD_CATG_TIPO NOT NULL,
  CD_VL_CATG_TIPO INTEGER CONSTRAINT NN_TB_APARTAMENTO_LOG_CD_CATG_TIPO NOT NUll,
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_APARTAMENTO_LOG_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_APARTAMENTO_LOG_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_APARTAMENTO_LOG_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_APARTAMENTO_LOG_DT_USUARIO_ATUALIZA NOT NULL,   
  CONSTRAINT PK_TB_APARTAMENTO_LOG_NR_SEQ_LOG PRIMARY KEY(NR_SEQ_LOG)
);

CREATE TABLE TB_CATEGORIA_LOG(
  NR_SEQ_LOG INTEGER,
  USU_EXECUTOR INTEGER CONSTRAINT NN_TB_CATEGORIA_LOG_USU_EXECUTOR NOT NULL,
  DT_EXECUTOR TIMESTAMP CONSTRAINT NN_TB_CATEGORIA_LOG_DT_EXECUTOR NOT NULL,
  COMANDO_EXECUTADO CHAR(1) CONSTRAINT NN_TB_CATEGORIA_LOG_COMANDO_EXECUTADO NOT NULL,    
  CD_CATEGORIA INTEGER CONSTRAINT NN_TB_CATEGORIA_LOG_CD_CATEGORIA NOT NULL,
  DESC_CATEGORIA VARCHAR(50) CONSTRAINT NN_TB_CATEGORIA_LOG_DESC_CATEGORIA NOT NULL,
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_CATEGORIA_LOG_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_CATEGORIA_LOG_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_CATEGORIA_LOG_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_CATEGORIA_LOG_DT_USUARIO_ATUALIZA NOT NULL,  
  CONSTRAINT PK_TB_CATEGORIA_LOG_NR_SEQ_LOG PRIMARY KEY(NR_SEQ_LOG)
);

CREATE TABLE TB_CATEGORIA_VALOR_LOG(
  NR_SEQ_LOG INTEGER,
  USU_EXECUTOR INTEGER CONSTRAINT NN_TB_CATEGORIA_VALOR_LOG_USU_EXECUTOR NOT NULL,
  DT_EXECUTOR TIMESTAMP CONSTRAINT NN_TB_CATEGORIA_VALOR_LOG_DT_EXECUTOR NOT NULL,
  COMANDO_EXECUTADO CHAR(1) CONSTRAINT NN_TB_CATEGORIA_VALOR_LOG_COMANDO_EXECUTADO NOT NULL,   	
  CD_VL_CATEGORIA INTEGER CONSTRAINT NN_TB_CATEGORIA_VALOR_LOG_NR_SEQ_LOG NOT NULL,
  CD_CATEGORIA INTEGER CONSTRAINT NN_TB_CATEGORIA_VALOR_LOG_CD_CATEGORIA NOT NULL,
  DESC_VL_CATG VARCHAR(40) CONSTRAINT NN_TB_CATEGORIA_VALOR_LOG_DESC_VL_CATG NOT NULL,
  GENERO CHAR(1),
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_CATEGORIA_VALOR_LOG_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_CATEGORIA_VALOR_LOG_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_CATEGORIA_VALOR_LOG_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_CATEGORIA_VALOR_LOG_DT_USUARIO_ATUALIZA NOT NULL,  
  CONSTRAINT PK_TB_CATEGORIA_VALOR_LOG_NR_SEQ_LOG PRIMARY KEY(NR_SEQ_LOG)
);

CREATE TABLE TB_ITENS_ORCAMENTO_LOG(
  NR_SEQ_LOG INTEGER,
  USU_EXECUTOR INTEGER CONSTRAINT NN_TB_ITENS_ORCAMENTO_LOG_USU_EXECUTOR NOT NULL,
  DT_EXECUTOR TIMESTAMP CONSTRAINT NN_TB_ITENS_ORCAMENTO_LOG_DT_EXECUTOR NOT NULL,
  COMANDO_EXECUTADO CHAR(1) CONSTRAINT NN_TB_ITENS_ORCAMENTO_LOG_COMANDO_EXECUTADO NOT NULL,  
  NR_SEQUENCIA INTEGER CONSTRAINT NN_TB_ITENS_ORCAMENTO_LOG_NR_SEQUENCIA NOT NULL,
  CD_ORCAMENTO INTEGER CONSTRAINT NN_TB_ITENS_ORCAMENTO_LOG_CD_ORCAMENTO NOT NULL,
  CD_PESSOA_JURIDICA INTEGER CONSTRAINT NN_TB_ITENS_ORCAMENTO_LOG_CD_PESSOA_JURIDICA NOT NULL,
  DESC_ITEM VARCHAR(50) CONSTRAINT NN_TB_ITENS_ORCAMENTO_LOG_DESC_ITEM NOT NULL,
  QT_ITEM INTEGER CONSTRAINT NN_TB_ITENS_ORCAMENTO_LOG_QT_ITEM NOT NULL,
  VALOR_UNIT NUMERIC(12,2) CONSTRAINT NN_TB_ITENS_ORCAMENTO_LOG_VALOR_UNIT NOT NULL,
  VALOR_TOTAL NUMERIC(12,2) CONSTRAINT NN_TB_ITENS_ORCAMENTO_LOG_VALOR_TOTAL NOT NULL,
  IE_APROVADO CHAR(1) CONSTRAINT NN_TB_ITENS_ORCAMENTO_LOG_IE_APROVADO NOT NULL,
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_ITENS_ORCAMENTO_LOG_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_ITENS_ORCAMENTO_LOG_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_ITENS_ORCAMENTO_LOG_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_ITENS_ORCAMENTO_LOG_DT_USUARIO_ATUALIZA NOT NULL, 
  CONSTRAINT PK_TB_ITENS_ORCAMENTO_LOG_NR_SEQ_LOG PRIMARY KEY(NR_SEQ_LOG)
);

CREATE TABLE TB_MORADOR_ENDERECO_LOG(
  NR_SEQ_LOG INTEGER,
  USU_EXECUTOR INTEGER CONSTRAINT NN_TB_MORADOR_ENDERECO_LOG_USU_EXECUTOR NOT NULL,
  DT_EXECUTOR TIMESTAMP CONSTRAINT NN_TB_MORADOR_ENDERECO_LOG_DT_EXECUTOR NOT NULL,
  COMANDO_EXECUTADO CHAR(1) CONSTRAINT NN_TB_MORADOR_ENDERECO_LOG_COMANDO_EXECUTADO NOT NULL,
  NR_SEQUENCIA INTEGER CONSTRAINT NN_TB_MORADOR_ENDERECO_LOG_NR_SEQUENCIA NOT NULL,
  CD_PESSOA_FISICA INTEGER CONSTRAINT NN_TB_MORADOR_ENDERECO_LOG_CD_PESSOA_FISICA NOT NULL,
  CD_APARTAMENTO INTEGER CONSTRAINT NN_TB_MORADOR_ENDERECO_LOG_CD_APARTAMENTO NOT NULL,
  DT_ENTRADA TIMESTAMP CONSTRAINT NN_TB_MORADOR_ENDERECO_LOG_DT_ENTRADA NOT NULL,
  DT_SAIDA TIMESTAMP,
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_MORADOR_ENDERECO_LOG_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_MORADOR_ENDERECO_LOG_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_MORADOR_ENDERECO_LOG_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_MORADOR_ENDERECO_LOG_DT_USUARIO_ATUALIZA NOT NULL, 
  CONSTRAINT PK_TB_MORADOR_ENDERECO_LOG_NR_SEQ_LOG PRIMARY KEY(NR_SEQ_LOG)
);

CREATE TABLE TB_OCORRENCIA_PF_ENVOLVIDA_LOG(
  NR_SEQ_LOG INTEGER,
  USU_EXECUTOR INTEGER CONSTRAINT NN_TB_OCORRENCIA_PF_ENVOLVIDA_LOG_USU_EXECUTOR NOT NULL,
  DT_EXECUTOR TIMESTAMP CONSTRAINT NN_TB_OCORRENCIA_PF_ENVOLVIDA_LOG_DT_EXECUTOR NOT NULL,
  COMANDO_EXECUTADO CHAR(1) CONSTRAINT NN_TB_OCORRENCIA_PF_ENVOLVIDA_LOG_COMANDO_EXECUTADO NOT NULL,
  CD_OCORRENCIA INTEGER CONSTRAINT NN_TB_OCORRENCIA_PF_ENVOLVIDA_LOG_CD_OCORRENCIA NOT NULL,
  CD_PESSOA_FISICA INTEGER CONSTRAINT NN_TB_OCORRENCIA_PF_ENVOLVIDA_LOG_CD_PESSOA_FISICA NOT NULL,
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_OCORRENCIA_PF_ENVOLVIDA_LOG_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_OCORRENCIA_PF_ENVOLVIDA_LOG_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_OCORRENCIA_PF_ENVOLVIDA_LOG_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_OCORRENCIA_PF_ENVOLVIDA_LOG_DT_USUARIO_ATUALIZA NOT NULL, 
  CONSTRAINT PK_TB_CD_OCORRENCIA_LOG_NR_SEQ_LOG PRIMARY KEY(NR_SEQ_LOG)
);

CREATE TABLE TB_OCORRENCIA_LOG(
  NR_SEQ_LOG INTEGER,
  USU_EXECUTOR INTEGER CONSTRAINT NN_TB_OCORRENCIA_LOG_USU_EXECUTOR NOT NULL,
  DT_EXECUTOR TIMESTAMP CONSTRAINT NN_TB_OCORRENCIA_LOG_DT_EXECUTOR NOT NULL,
  COMANDO_EXECUTADO CHAR(1) CONSTRAINT NN_TB_OCORRENCIA_LOG_COMANDO_EXECUTADO NOT NULL,
  CD_OCORRENCIA INTEGER CONSTRAINT NN_TB_OCORRENCIA_LOG_CD_OCORRENCIA NOT NULL,
  CD_SETOR INTEGER,
  CD_PF_INFORMANTE INTEGER CONSTRAINT NN_TB_OCORRENCIA_LOG_CD_PF_INFORMANTE NOT NULL,
  DESC_ASSUNTO VARCHAR(50) CONSTRAINT NN_TB_OCORRENCIA_LOG_DESC_ASSUNTO NOT NULL,
  DESC_OCORRENCIA TEXT CONSTRAINT NN_TB_OCORRENCIA_LOG_DESC_OCORRENCIA NOT NULL,
  DT_OCORRENCIA TIMESTAMP CONSTRAINT NN_TB_OCORRENCIA_LOG_DT_OCORRENCIA NOT NULL,
  DT_FIM TIMESTAMP,
  DESC_CONCLUSAO TEXT,
  CD_CATG_ESTAGIO INTEGER CONSTRAINT NN_TB_OCORRENCIA_LOG_CD_CATG_ESTAGIO NOT NULL,
  CD_VL_CATG_ESTAGIO INTEGER CONSTRAINT NN_TB_OCORRENCIA_LOG_CD_CATG_VL_ESTAGIO NOT NULL,
  CD_CATG_TIPO INTEGER CONSTRAINT NN_TB_OCORRENCIA_LOG_CD_CATG_TIPO NOT NULL,
  CD_VL_CATG_TIPO INTEGER CONSTRAINT NN_TB_OCORRENCIA_LOG_CD_CATG_TIPO NOT NULL,
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_OCORRENCIA_LOG_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_OCORRENCIA_LOG_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_OCORRENCIA_LOG_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_OCORRENCIA_LOG_DT_USUARIO_ATUALIZA NOT NULL, 
  CONSTRAINT PK_TB_OCORRENCIA_LOG_NR_SEQ_LOG PRIMARY KEY(NR_SEQ_LOG)
);

CREATE TABLE TB_ORCAMENTO_LOG(
  NR_SEQ_LOG INTEGER,
  USU_EXECUTOR INTEGER CONSTRAINT NN_TB_ORCAMENTO_LOG_USU_EXECUTOR NOT NULL,
  DT_EXECUTOR TIMESTAMP CONSTRAINT NN_TB_ORCAMENTO_LOG_DT_EXECUTOR NOT NULL,
  COMANDO_EXECUTADO CHAR(1) CONSTRAINT NN_TB_ORCAMENTO_LOG_COMANDO_EXECUTADO NOT NULL,
  CD_ORCAMENTO INTEGER CONSTRAINT NN_TB_ORCAMENTO_LOG_CD_ORCAMENTO NOT NULL,
  CD_ORDEM_SERVICO INTEGER,
  DS_ORCAMENTO VARCHAR(250) CONSTRAINT NN_TB_ORCAMENTO_DS_ORCAMENTO NOT NULL,
  DT_ORCAMENTO TIMESTAMP CONSTRAINT NN_TB_ORCAMENTO_LOG_DT_ORCAMENTO NOT NULL,
  DT_FIM TIMESTAMP,
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_ORCAMENTO_LOG_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_ORCAMENTO_LOG_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_ORCAMENTO_LOG_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_ORCAMENTO_LOG_DT_USUARIO_ATUALIZA NOT NULL,
  CONSTRAINT PK_TB_ORCAMENTO_LOG_NR_SEQ_LOG PRIMARY KEY(NR_SEQ_LOG)
);

CREATE TABLE TB_ORDEM_SERVICO_LOG(
  NR_SEQ_LOG INTEGER,
  USU_EXECUTOR INTEGER CONSTRAINT NN_TB_ORDEM_SERVICO_LOG_USU_EXECUTOR NOT NULL,
  DT_EXECUTOR TIMESTAMP CONSTRAINT NN_TB_ORDEM_SERVICO_LOG_DT_EXECUTOR NOT NULL,
  COMANDO_EXECUTADO CHAR(1) CONSTRAINT NN_TB_ORDEM_SERVICO_LOG_COMANDO_EXECUTADO NOT NULL,
  CD_ORDEM_SERVICO INTEGER CONSTRAINT NN_TB_ORDEM_SERVICO_LOG_CD_ORDEM_SERVICO NOT NULL,
  CD_OCORRENCIA INTEGER,
  CD_PF_EXECUTOR INTEGER,
  CD_PF_SOLICITANTE INTEGER CONSTRAINT NN_TB_ORDEM_SERVICO_LOG_CD_PF_SOLICITANTE NOT NULL,
  DESC_ASSUNTO VARCHAR(50) CONSTRAINT NN_TB_ORDEM_SERVICO_LOG_DESC_ASSUNTO NOT NULL,
  DESC_ORDEM_SERVICO TEXT CONSTRAINT NN_TB_ORDEM_SERVICO_LOG_DESC_ORDEM_SERVICO NOT NULL,
  DT_INICIO TIMESTAMP CONSTRAINT NN_TB_ORDEM_SERVICO_LOG_DT_INICIO NOT NULL,
  DT_FIM TIMESTAMP,
  CD_CATG_ESTAGIO INTEGER CONSTRAINT NN_TB_ORDEM_SERVICO_LOG_CD_CATG_ESTAGIO NOT NULL,
  CD_VL_CATG_ESTAGIO INTEGER CONSTRAINT NN_TB_ORDEM_SERVICO_LOG_CD_VL_CATG_ESTAGIO NOT NULL,
  CD_CATG_AVAL_ATENDIMENTO INTEGER,
  CD_VL_CATG_AVAL_ATENDIMENTO INTEGER,
  CD_CATG_AVAL_QUALIDADE INTEGER,
  CD_VL_CATG_AVAL_QUALIDADE INTEGER,
  DESC_CONCLUSAO TEXT,
  CD_CATG_TIPO INTEGER CONSTRAINT NN_TB_ORDEM_SERVICO_LOG_CD_CATG_TIPO NOT NULL,
  CD_VL_CATG_TIPO INTEGER CONSTRAINT NN_TB_ORDEM_SERVICO_LOG_CD_CATG_TIPO NOT NULL,
  CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_ORDEM_SERVICO_LOG_CD_USUARIO_CRIACAO NOT NULL,
  DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_ORDEM_SERVICO_LOG_DT_USUARIO_CRIACAO NOT NULL,   
  CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_ORDEM_SERVICO_LOG_CD_USUARIO_ATUALIZA NOT NULL,
  DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_ORDEM_SERVICO_LOG_DT_USUARIO_ATUALIZA NOT NULL,
  CONSTRAINT PK_TB_ORDEM_SERVICO_LOG_NR_SEQ_LOG PRIMARY KEY(NR_SEQ_LOG)
);

CREATE TABLE TB_PESSOA_FISICA_LOG(
 NR_SEQ_LOG INTEGER,
 USU_EXECUTOR INTEGER CONSTRAINT NN_TB_PESSOA_FISICA_LOG_USU_EXECUTOR NOT NULL,
 DT_EXECUTOR TIMESTAMP CONSTRAINT NN_TB_PESSOA_FISICA_LOG_DT_EXECUTOR NOT NULL,
 COMANDO_EXECUTADO CHAR(1) CONSTRAINT NN_TB_PESSOA_FISICA_LOG_COMANDO_EXECUTADO NOT NULL, 
 CD_PESSOA_FISICA INTEGER CONSTRAINT NN_TB_PESSOA_FISICA_LOG_CD_PESSOA_FISICA NOT NULL,
 CD_PESSOA_JURIDICA INTEGER,
 CD_PROFISSAO INTEGER,
 NM_PESSOA_FISICA VARCHAR(50) CONSTRAINT NN_TB_PESSOA_FISICA_LOG_NM_PESSOA_FISICA NOT NULL,
 CPF VARCHAR(14),
 RG VARCHAR(15),
 CD_CATG_ORG_RG INTEGER,
 CD_VL_CATG_ORG_RG INTEGER,
 EMAIL VARCHAR(60),  
 DT_NASCIMENTO DATE,
 IE_SEXO CHAR(1) CONSTRAINT NN_TB_PESSOA_FISICA_LOG_IE_SEXO NOT NULL,
 IM_PERFIL OID,
 IE_ESTUDA CHAR(1),
 CD_INSTITUICAO INTEGER,
 DT_INICIO_CURSO DATE,
 DT_FIM_CURSO DATE, 
 CD_CATG_GRAU_ENSINO INTEGER,
 CD_VL_CATG_GRAU_ENSINO INTEGER,
 CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_PESSOA_FISICA_LOG_CD_USUARIO_CRIACAO NOT NULL,
 DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_PESSOA_FISICA_LOG_DT_USUARIO_CRIACAO NOT NULL,   
 CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_PESSOA_FISICA_LOG_CD_USUARIO_ATUALIZA NOT NULL,
 DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_PESSOA_FISICA_LOG_DT_USUARIO_ATUALIZA NOT NULL,
 CONSTRAINT PK_TB_PESSAO_FISICA_LOG_NR_SEQ_LOG PRIMARY KEY(NR_SEQ_LOG)
);

CREATE TABLE TB_PESSOA_JURIDICA_LOG(
 NR_SEQ_LOG INTEGER,
 USU_EXECUTOR INTEGER CONSTRAINT NN_TB_PESSOA_JURIDICA_LOG_USU_EXECUTOR NOT NULL,
 DT_EXECUTOR TIMESTAMP CONSTRAINT NN_TB_PESSOA_JURIDICA_LOG_DT_EXECUTOR NOT NULL,
 COMANDO_EXECUTADO CHAR(1) CONSTRAINT NN_TB_PESSOA_JURIDICA_LOG_COMANDO_EXECUTADO NOT NULL,
 CD_PESSOA_JURIDICA INTEGER CONSTRAINT NN_TB_PESSOA_JURIDICA_LOG_CD_PESSOA_JURIDICA NOT NULL,
 CNPJ VARCHAR(18),
 NM_FANTASIA VARCHAR(50) CONSTRAINT NN_TB_PESSOA_JURIDICA_LOG_NM_FANTASIA NOT NULL,
 DESC_RAZAO VARCHAR(50) CONSTRAINT NN_TB_PESSOA_JURIDICA_LOG_DESC_RAZAO NOT NULL,
 CD_CATG_TIPO_EMPRESA INTEGER,
 CD_TIPO_EMPRESA INTEGER,
 CD_CATG_RAMO_ATIVIDADE INTEGER,
 CD_RAMO_ATIVIDADE INTEGER,
 IM_PERFIL OID,
 EMAIL VARCHAR(30), 
 CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_PESSOA_JURIDICA_LOG_CD_USUARIO_CRIACAO NOT NULL,
 DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_PESSOA_JURIDICA_LOG_DT_USUARIO_CRIACAO NOT NULL,   
 CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_PESSOA_JURIDICA_LOG_CD_USUARIO_ATUALIZA NOT NULL,
 DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_PESSOA_JURIDICA_LOG_DT_USUARIO_ATUALIZA NOT NULL,
 CONSTRAINT PK_TB_PESSAO_JURIDICA_LOG_NR_SEQ_LOG PRIMARY KEY(NR_SEQ_LOG)
);

CREATE TABLE TB_PF_ENDERECO_LOG(
 NR_SEQ_LOG INTEGER,
 USU_EXECUTOR INTEGER CONSTRAINT NN_TB_PF_ENDERECO_LOG_USU_EXECUTOR NOT NULL,
 DT_EXECUTOR TIMESTAMP CONSTRAINT NN_TB_PF_ENDERECO_LOG_DT_EXECUTOR NOT NULL,
 COMANDO_EXECUTADO CHAR(1) CONSTRAINT NN_TB_PF_ENDERECO_LOG_COMANDO_EXECUTADO NOT NULL,
 NR_SEQUENCIA INTEGER CONSTRAINT NN_TB_PF_ENDERECO_LOG_NR_SEQUENCIA NOT NULL,
 CD_CATG_END INTEGER CONSTRAINT NN_TB_PF_ENDERECO_LOG_CD_CATG_END NOT NULL,
 CD_VL_CATG_END INTEGER CONSTRAINT NN_TB_PF_ENDERECO_LOG_CD_VL_CATG_END NOT NULL,
 CD_PESSOA_FISICA INTEGER CONSTRAINT NN_TB_PF_ENDERECO_LOG_CD_PESSOA_FISICA NOT NULL,
 CEP VARCHAR(9) CONSTRAINT NN_TB_PF_ENDERECO_LOG_CEP NOT NULL,
 RUA VARCHAR(50) CONSTRAINT NN_TB_PF_ENDERECO_LOG_RUA NOT NULL,
 NUMERO INTEGER CONSTRAINT NN_TB_PF_ENDERECO_LOG_NUMERO NOT NULL,
 BAIRRO VARCHAR(25) CONSTRAINT NN_TB_ENDERECO_LOG_BAIRRO NOT NULL,
 CIDADE VARCHAR(25) CONSTRAINT NN_TB_ENDERECO_LOG_CIDADE NOT NULL, 
 CD_CATG_ESTADO INTEGER CONSTRAINT NN_TB_PF_ENDERECO_LOG_CD_CATG_ESTADO NOT NULL,
 CD_VL_CATG_ESTADO INTEGER CONSTRAINT NN_TB_PF_ENDERECO_LOG_CD_VL_CATG_ESTADO NOT NULL,
 OBSERVACAO TEXT,
 CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_PF_ENDERECO_LOG_CD_USUARIO_CRIACAO NOT NULL,
 DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_PF_ENDERECO_LOG_DT_USUARIO_CRIACAO NOT NULL,   
 CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_PF_ENDERECO_LOG_CD_USUARIO_ATUALIZA NOT NULL,
 DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_PF_ENDERECO_LOG_DT_USUARIO_ATUALIZA NOT NULL,
 CONSTRAINT PK_TB_PF_ENDERECO_LOG_NR_SEQ_LOG PRIMARY KEY(NR_SEQ_LOG)
);

CREATE TABLE TB_PJ_ENDERECO_LOG(
 NR_SEQ_LOG INTEGER,
 USU_EXECUTOR INTEGER CONSTRAINT NN_TB_PJ_ENDERECO_LOG_USU_EXECUTOR NOT NULL,
 DT_EXECUTOR TIMESTAMP CONSTRAINT NN_TB_PJ_ENDERECO_LOG_DT_EXECUTOR NOT NULL,
 COMANDO_EXECUTADO CHAR(1) CONSTRAINT NN_TB_PJ_ENDERECO_LOG_COMANDO_EXECUTADO NOT NULL,   
 NR_SEQUENCIA INTEGER CONSTRAINT NN_TB_PJ_ENDERECO_LOG_NR_SEQUENCIA NOT NULL,
 CD_CATG_END INTEGER CONSTRAINT NN_TB_PJ_ENDERECO_LOG_CD_CATG_END NOT NULL,
 CD_VL_CATG_END INTEGER CONSTRAINT NN_TB_PJ_ENDERECO_LOG_CD_VL_CATG_END NOT NULL,
 CD_PESSOA_JURIDICA INTEGER CONSTRAINT NN_TB_PJ_ENDERECO_LOG_CD_PESSOA_JURIDICA NOT NULL,
 CEP VARCHAR(9) CONSTRAINT NN_TB_PJ_ENDERECO_LOG_CEP NOT NULL,
 RUA VARCHAR(50) CONSTRAINT NN_TB_PJ_ENDERECO_LOG_RUA NOT NULL,
 NUMERO INTEGER CONSTRAINT NN_TB_PJ_ENDERECO_LOG_NUMERO NOT NULL,
 BAIRRO VARCHAR(25) CONSTRAINT NN_TB_PJ_ENDERECO_LOG_BAIRRO NOT NULL,
 CIDADE VARCHAR(25) CONSTRAINT NN_TB_PJ_ENDERECO_LOG_CIDADE NOT NULL,
 CD_CATG_ESTADO INTEGER CONSTRAINT NN_TB_PJ_ENDERECO_LOG_CD_CATG_ESTADO NOT NULL,
 CD_VL_CATG_ESTADO INTEGER CONSTRAINT NN_TB_PJ_ENDERECO_LOG_CD_VL_CATG_ESTADO NOT NULL,
 OBSERVACAO TEXT,
 CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_PJ_ENDERECO_LOG_CD_USUARIO_CRIACAO NOT NULL,
 DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_PJ_ENDERECO_LOG_DT_USUARIO_CRIACAO NOT NULL,   
 CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_PJ_ENDERECO_LOG_CD_USUARIO_ATUALIZA NOT NULL,
 DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_PJ_ENDERECO_LOG_DT_USUARIO_ATUALIZA NOT NULL,
 CONSTRAINT PK_TB_PJ_ENDERECO_LOG_NR_SEQ_LOG PRIMARY KEY(NR_SEQ_LOG)
);

CREATE TABLE TB_PROFISSAO_LOG(
 NR_SEQ_LOG INTEGER,
 USU_EXECUTOR INTEGER CONSTRAINT NN_TB_PROFISSAO_LOG_USU_EXECUTOR NOT NULL,
 DT_EXECUTOR TIMESTAMP CONSTRAINT NN_TB_PROFISSAO_LOG_DT_EXECUTOR NOT NULL,
 COMANDO_EXECUTADO CHAR(1) CONSTRAINT NN_TB_PROFISSAO_LOG_COMANDO_EXECUTADO NOT NULL,
 CD_PROFISSAO INTEGER CONSTRAINT NN_TB_PROFISSAO_LOG_CD_PROFISSAO NOT NULL,
 NM_PROFISSAO VARCHAR(50) CONSTRAINT NN_TB_PROFISSAO_LOG_NM_PROFISSAO NOT NULL,
 CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_PROFISSAO_LOG_CD_USUARIO_CRIACAO NOT NULL,
 DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_PROFISSAO_LOG_DT_USUARIO_CRIACAO NOT NULL,   
 CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_PROFISSAO_LOG_CD_USUARIO_ATUALIZA NOT NULL,
 DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_PROFISSAO_LOG_DT_USUARIO_ATUALIZA NOT NULL,
 CONSTRAINT PK_TB_PROFISSAO_LOG_NR_SEQ_LOG PRIMARY KEY(NR_SEQ_LOG)
);


CREATE TABLE tb_relacionados_log(
 nr_seq_log INTEGER,
 usu_executor INTEGER CONSTRAINT nn_tb_relacionados_log_usu_executor NOT NULL,
 dt_executor TIMESTAMP CONSTRAINT nn_tb_relacionados_log_dt_executor NOT NULL,
 comando_executado CHAR(1) CONSTRAINT nn_tb_relacionados_log_comando_executado NOT NULL,
 cd_pessoa_fisica_1 INTEGER CONSTRAINT nn_tb_relacionados_log_cd_pessoa_fisica_1 NOT NULL,
 cd_pessoa_fisica_2 INTEGER CONSTRAINT nn_tb_relacionados_cd_pessoa_fisica_2 NOT NULL,
 cd_catg_relac INTEGER CONSTRAINT nn_tb_relacionados_cd_catg_relac NOT NULL,
 cd_catg_vl_relac INTEGER CONSTRAINT nn_tb_relacionados_cd_catg_vl_relac NOT NULL,
 cd_usuario_criacao INTEGER CONSTRAINT nn_tb_relacionados_cd_usuario_criacao NOT NULL,
 dt_usuario_criacao TIMESTAMP CONSTRAINT nn_tb_relacionados_dt_usuario_criacao NOT NULL,
 cd_usuario_atualiza INTEGER CONSTRAINT nn_tb_relacionados_cd_usuario_atualiza NOT NULL,
 dt_usuario_atualiza TIMESTAMP CONSTRAINT nn_tb_relacionados_dt_usuairo_atualiza NOT NULL,
 CONSTRAINT pk_tb_relacionados_nr_seq_log PRIMARY KEY (nr_seq_log)
);


CREATE TABLE tb_relac_parametro_log(
 nr_seq_log INTEGER,
 usu_executor INTEGER CONSTRAINT nn_tb_relac_parametro_log_usu_executor NOT NULL,
 dt_executor TIMESTAMP CONSTRAINT nn_tb_relac_parametro_log_dt_executor NOT NULL,
 comando_executado CHAR(1) CONSTRAINT nn_tb_relac_parametro_log_comando_executado NOT NULL,	
 cd_catg_relac_1 INTEGER CONSTRAINT nn_tb_relac_parametro_cd_catg_relac_1  NOT NULL, 
 cd_catg_vl_relac_1 INTEGER CONSTRAINT nn_tb_relac_parametro_cd_catg_vl_relac_1 NOT NULL,
 cd_catg_relac_2 INTEGER CONSTRAINT nn_tb_relac_parametro_cd_catg_relac_2 NOT NULL, 
 cd_catg_vl_relac_2 INTEGER CONSTRAINT nn_tb_relac_parametro_cd_catg_vl_relac_2 NOT NULL, 
 cd_usuario_criacao INTEGER CONSTRAINT nn_tb_relac_parametro_cd_usuario_criacao NOT NULL,
 dt_usuario_criacao TIMESTAMP CONSTRAINT nn_tb_relac_parametro_dt_usuario_criacao NOT NULL,
 cd_usuario_atualiza INTEGER CONSTRAINT nn_tb_relac_parametro_cd_usuario_atualiza NOT NULL,
 dt_usuario_atualiza TIMESTAMP CONSTRAINT nn_tb_relac_parametro_dt_usuario_atualiza NOT NULL,
 CONSTRAINT fk_tb_relac_parametro_log_nr_seq_log PRIMARY KEY (nr_seq_log)
); 


CREATE TABLE TB_SERVICO_ADICIONAL_LOG(
 NR_SEQ_LOG INTEGER,
 USU_EXECUTOR INTEGER CONSTRAINT NN_TB_SERVICO_ADICIONAL_LOG_USU_EXECUTOR NOT NULL,
 DT_EXECUTOR TIMESTAMP CONSTRAINT NN_TB_SERVICO_ADICIONAL_LOG_DT_EXECUTOR NOT NULL,
 COMANDO_EXECUTADO CHAR(1) CONSTRAINT NN_TB_SERVICO_ADICIONAL_LOG_COMANDO_EXECUTADO NOT NULL,
 CD_SERV_ADICIONAL INTEGER CONSTRAINT NN_TB_SERVICO_ADICIONAL_LOG_CD_SERV_ADICIONAL NOT NULL,
 CD_ORDEM_SERVICO INTEGER, 
 CD_PESSOA_FISICA INTEGER,
 CD_CATG_SERVICO INTEGER CONSTRAINT NN_TB_SERVICO_ADICIONAL_CD_CATG_SERVICO NOT NULL,
 CD_VL_CATG_SERVICO INTEGER CONSTRAINT NN_TB_SERVICO_ADICIONAL_CD_CATG_VL_SERVICO NOT NULL,
 CD_SETOR INTEGER,
 CD_VAGA INTEGER,
 DT_INICIO TIMESTAMP CONSTRAINT NN_TB_SERVICO_ADICIIONAL_LOG_DT_INICIO NOT NULL,
 DT_FIM TIMESTAMP,
 CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_SERVICO_ADICIONAL_LOG_CD_USUARIO_CRIACAO NOT NULL,
 DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_SERVICO_ADICIONAL_LOG_DT_USUARIO_CRIACAO NOT NULL,   
 CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_SERVICO_ADICIONAL_LOG_CD_USUARIO_ATUALIZA NOT NULL,
 DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_SERVICO_ADICIONAL_LOG_DT_USUARIO_ATUALIZA NOT NULL,
 CONSTRAINT PK_TB_SERVICO_ADICIONAL_LOG_NR_SEQ_LOG PRIMARY KEY(NR_SEQ_LOG)
);

CREATE TABLE TB_SETOR_LOG(
 NR_SEQ_LOG INTEGER,
 USU_EXECUTOR INTEGER CONSTRAINT NN_TB_SETOR_LOG_USU_EXECUTOR NOT NULL,
 DT_EXECUTOR TIMESTAMP CONSTRAINT NN_TB_SETOR_LOG_DT_EXECUTOR NOT NULL,
 COMANDO_EXECUTADO CHAR(1) CONSTRAINT NN_TB_SETOR_LOG_COMANDO_EXECUTADO NOT NULL,  
 CD_SETOR SERIAL CONSTRAINT NN_TB_SETOR_LOG_CD_SETOR NOT NULL,
 CD_CONDOMINIO INTEGER CONSTRAINT NN_TB_SETOR_LOG_CD_CONDOMINIO NOT NULL,
 NM_SETOR VARCHAR(50) CONSTRAINT NN_TB_SETOR_LOG_NM_SETOR NOT NULL,
 OBSERVACAO TEXT,
 IM_PERFIL OID,
 CD_CATG_TIPO INTEGER CONSTRAINT NN_TB_SETOR_LOG_CD_CATG_TIPO NOT NULL,
 CD_VL_CATG_TIPO INTEGER CONSTRAINT NN_TB_SETOR_LOG_CD_CATG_TIPO NOT NUll,
 CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_SETOR_LOG_CD_USUARIO_CRIACAO NOT NULL,
 DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_SETOR_LOG_DT_USUARIO_CRIACAO NOT NULL,   
 CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_SSETOR_LOG_CD_USUARIO_ATUALIZA NOT NULL,
 DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_SETOR_LOG_DT_USUARIO_ATUALIZA NOT NULL,
 CONSTRAINT PK_TB_SETOR_LOG_NR_SEQ_LOG PRIMARY KEY(NR_SEQ_LOG)
);

CREATE TABLE TB_USUARIO_LOG(
 NR_SEQ_LOG INTEGER,
 USU_EXECUTOR INTEGER CONSTRAINT NN_TB_USUARIO_LOG_USU_EXECUTOR NOT NULL,
 DT_EXECUTOR TIMESTAMP CONSTRAINT NN_TB_USUARIO_LOG_DT_EXECUTOR NOT NULL,
 COMANDO_EXECUTADO CHAR(1) CONSTRAINT NN_TB_USUARIO_LOG_COMANDO_EXECUTADO NOT NULL,
 CD_USUARIO INTEGER CONSTRAINT NN_TB_USUARIO_LOG_CD_PF_USU NOT NULL, 
 LOGIN VARCHAR(60) CONSTRAINT NN_TB_USUARIO_LOGIN_LOGIN NOT NULL,
 NIVEL INTEGER CONSTRAINT NN_TB_USUARIO_LOG_NIVEL NOT NULL,
 IE_STATUS CHAR(1) CONSTRAINT NN_TB_USUARIO_LOG_IE_STATUS NOT NULL,
 CD_USU_BANCO_OID BIGINT CONSTRAINT NN_TB_USUARIO_LOG_CD_USU_BANCO_OID NOT NULL,
 CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_USUARIO_LOG_CD_USUARIO_CRIACAO NOT NULL,
 DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_USUARIO_LOG_DT_USUARIO_CRIACAO NOT NULL,   
 CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_USUARIO_LOG_CD_USUARIO_ATUALIZA NOT NULL,
 DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_USUARIO_LOG_DT_USUARIO_ATUALIZA NOT NULL,
 CONSTRAINT PK_TB_USUARIO_LOG_NR_SEQ_LOG PRIMARY KEY(NR_SEQ_LOG)
);

CREATE TABLE TB_VAGA_GARAGEM_LOG(
 NR_SEQ_LOG INTEGER,
 USU_EXECUTOR INTEGER CONSTRAINT NN_TB_VAGA_GARAGEM_LOG_USU_EXECUTOR NOT NULL,
 DT_EXECUTOR TIMESTAMP CONSTRAINT NN_TB_VAGA_GARAGEM_LOG_DT_EXECUTOR NOT NULL,
 COMANDO_EXECUTADO CHAR(1) CONSTRAINT NN_TB_VAGA_GARAGEM_LOG_COMANDO_EXECUTADO NOT NULL,
 CD_VAGA INTEGER CONSTRAINT NN_TB_VAGA_GARAGEM_LOG_CD_VAGA NOT NULL,
 DS_VAGA VARCHAR(25) CONSTRAINT NN_TB_VAGA_GARAGEM_DS_VAGA NOT NULL,
 CD_SETOR INTEGER CONSTRAINT NN_TB_VAGA_GARAGEM_CD_SETOR NOT NULL,
 CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_VAGA_GARAGEM_CD_USUARIO_CRIACAO NOT NULL,
 DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_VAGA_GARAGEM_DT_USUARIO_CRIACAO NOT NULL,   
 CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_VAGA_GARAGEM_CD_USUARIO_ATUALIZA NOT NULL,
 DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_VAGA_GARAGEM_DT_USUARIO_ATUALIZA NOT NULL,
CONSTRAINT PK_TB_VAGA_GARAGEM_LOG_NR_SEQ_LOG PRIMARY KEY(NR_SEQ_LOG)
);


CREATE TABLE TB_PF_TELEFONE_LOG(
 NR_SEQ_LOG INTEGER,
 USU_EXECUTOR INTEGER CONSTRAINT NN_TB_PF_TELEFONE_LOG_USU_EXECUTOR NOT NULL,
 DT_EXECUTOR TIMESTAMP CONSTRAINT NN_TB_PF_TELEFONE_LOG_DT_EXECUTOR NOT NULL,
 COMANDO_EXECUTADO CHAR(1) CONSTRAINT NN_TB_PF_TELEFONE_LOG_COMANDO_EXECUTADO NOT NULL,
 CD_PF_FONE INTEGER CONSTRAINT NN_TB_PF_TELEFONE_LOG_CD_PF_FONE NOT NULL,
 CD_PESSOA_FISICA INTEGER CONSTRAINT NN_TB_PF_TELEFONE_LOG_CD_PESSOA_FISICA NOT NULL,
 FONE VARCHAR(15) CONSTRAINT NN_TB_PF_TELEFONE_FONE NOT NULL,
 OBSERVACAO TEXT,
 CD_CATG_FONE_PF INTEGER CONSTRAINT NN_TB_PF_TELEFONE_CD_CATG_FONE_PF NOT NULL,
 CD_VL_CATG_FONE_PF INTEGER CONSTRAINT NN_TB_PF_TELEFONE_CD_CATG_VL_FONE_PF NOT NULL,
 CD_CATG_OPERADORA INTEGER CONSTRAINT NN_TB_PF_TELEFONE_LOG_CD_CATG_OPERADORA NOT NULL,
 CD_VL_CATG_OPERADORA INTEGER CONSTRAINT NN_TB_PF_TELEFONE_LOG_CD_CATG_VL_OPERADORA NOT NULL,
 CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_PF_TELEFONE_CD_USUARIO_CRIACAO NOT NULL,
 DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_PF_TELEFONE_DT_USUARIO_CRIACAO NOT NULL,   
 CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_PF_TELEFONE_CD_USUARIO_ATUALIZA NOT NULL,
 DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_PF_TELEFONE_DT_USUARIO_ATUALIZA NOT NULL,
 CONSTRAINT PK_TB_PF_TELEFONE_NR_SEQ_LOG PRIMARY KEY(NR_SEQ_LOG)
);

CREATE TABLE TB_PJ_TELEFONE_LOG(
 NR_SEQ_LOG INTEGER,
 USU_EXECUTOR INTEGER CONSTRAINT NN_TB_PJ_TELEFONE_LOG_USU_EXECUTOR NOT NULL,
 DT_EXECUTOR TIMESTAMP CONSTRAINT NN_TB_PJ_TELEFONE_LOG_DT_EXECUTOR NOT NULL,
 COMANDO_EXECUTADO CHAR(1) CONSTRAINT NN_TB_PJ_TELEFONE_LOG_COMANDO_EXECUTADO NOT NULL,
 CD_PJ_FONE INTEGER CONSTRAINT NN_TB_PJ_TELEFONE_LOG_CD_PJ_FONE NOT NULL,
 CD_PESSOA_JURIDICA INTEGER CONSTRAINT NN_TB_PJ_TELEFONE_LOG_CD_PESSOA_JURIDICA NOT NULL,
 FONE VARCHAR(15) CONSTRAINT NN_TB_PJ_TELEFONE_FONE NOT NULL,
 OBSERVACAO TEXT,
 CD_CATG_FONE_PJ INTEGER CONSTRAINT NN_TB_PJ_TELEFONE_CD_CATG_FONE_PJ NOT NULL,
 CD_VL_CATG_FONE_PJ INTEGER CONSTRAINT NN_TB_PJ_TELEFONE_CD_CATG_VL_FONE_PJ NOT NULL,
 CD_CATG_OPERADORA INTEGER CONSTRAINT NN_TB_PJ_TELEFONE_LOG_CD_CATG_OPERADORA NOT NULL,
 CD_VL_CATG_OPERADORA INTEGER CONSTRAINT NN_TB_PJ_TELEFONE_LOG_CD_CATG_VL_OPERADORA NOT NULL,
 CD_USUARIO_CRIACAO INTEGER CONSTRAINT NN_TB_PJ_TELEFONE_CD_USUARIO_CRIACAO NOT NULL, 
 DT_USUARIO_CRIACAO TIMESTAMP CONSTRAINT NN_TB_PJ_TELEFONE_DT_USUARIO_CRIACAO NOT NULL,   
 CD_USUARIO_ATUALIZA INTEGER CONSTRAINT NN_TB_PJ_TELEFONE_CD_USUARIO_ATUALIZA NOT NULL,
 DT_USUARIO_ATUALIZA TIMESTAMP CONSTRAINT NN_TB_PJ_TELEFONE_DT_USUARIO_ATUALIZA NOT NULL,
 CONSTRAINT PK_TB_PJ_TELEFON_LOG_NR_SEQ_LOG PRIMARY KEY(NR_SEQ_LOG) 
);

ALTER TABLE TB_USUARIO_LOG ADD CONSTRAINT FK_TB_USUARIO_LOG_USU_EXECUTOR 
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_SETOR_LOG ADD CONSTRAINT FK_TB_SETOR_LOG_USU_EXECUTOR 
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_SERVICO_ADICIONAL_LOG ADD CONSTRAINT FK_TB_SERVICO_ADICIONAL_LOG_USU_EXECUTOR 
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_RELACIONADOS_LOG ADD CONSTRAINT FK_TB_RELACIONADOS_LOG_USU_EXECUTOR 
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_PROFISSAO_LOG ADD CONSTRAINT FK_TB_PROFISSAO_LOG_USU_EXECUTOR 
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_PJ_ENDERECO_LOG ADD CONSTRAINT FK_TB_PJ_ENDERECO_LOG_USU_EXECUTOR 
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_PF_ENDERECO_LOG ADD CONSTRAINT FK_TB_PF_ENDERECO_LOG_USU_EXECUTOR 
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_PESSOA_JURIDICA_LOG ADD CONSTRAINT FK_TB_PESSOA_JURIDICA_LOG_USU_EXECUTOR 
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_PESSOA_FISICA_LOG ADD CONSTRAINT FK_TB_PESSOA_FISICA_LOG_USU_EXECUTOR 
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_ORDEM_SERVICO_LOG ADD CONSTRAINT FK_TB_ORDEM_SERVICO_LOG_USU_EXECUTOR 
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_ORCAMENTO_LOG ADD CONSTRAINT FK_TB_ORCAMENTO_LOG_USU_EXECUTOR 
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_OCORRENCIA_LOG ADD CONSTRAINT FK_TB_OCORRENCIA_LOG_USU_EXECUTOR 
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_OCORRENCIA_PF_ENVOLVIDA_LOG ADD CONSTRAINT FK_TB_OCORRENCIA_PF_ENVOLVIDA_LOG_USU_EXECUTOR 
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_MORADOR_ENDERECO_LOG ADD CONSTRAINT FK_TB_MORADOR_ENDERECO_LOG_USU_EXECUTOR 
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_ITENS_ORCAMENTO_LOG ADD CONSTRAINT FK_TB_ITENS_ORCAMENTO_LOG_USU_EXECUTOR 
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_CATEGORIA_VALOR_LOG ADD CONSTRAINT FK_TB_CATEGORIA_VALOR_LOG_USU_EXECUTOR 
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_CATEGORIA_LOG ADD CONSTRAINT FK_TB_CATEGORIA_LOG_USU_EXECUTOR 
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_APARTAMENTO_LOG ADD CONSTRAINT FK_TB_APARTAMENTO_LOG_USU_EXECUTOR 
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_VAGA_GARAGEM_LOG ADD CONSTRAINT FK_TB_VAGA_GARAGEM_LOG_USU_EXECUTOR 
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_PF_TELEFONE_LOG ADD CONSTRAINT FK_TB_PF_TELEFONE_LOG_USU_EXECUTOR 
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE TB_PJ_TELEFONE_LOG ADD CONSTRAINT FK_TB_PJ_TELEFONE_LOG_USU_EXECUTOR 
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

ALTER TABLE tb_relac_parametro_log ADD CONSTRAINT fk_tb_relac_parametro_log_usu_executor
FOREIGN KEY(USU_EXECUTOR) REFERENCES TB_USUARIO(CD_USUARIO);

CREATE SEQUENCE seq_tb_apartamento_log
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
NO CYCLE;

CREATE SEQUENCE seq_tb_categoria_log
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
NO CYCLE;

CREATE SEQUENCE seq_tb_categoria_valos_log
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
NO CYCLE;

CREATE SEQUENCE seq_tb_categoria_valor_log
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
NO CYCLE;

CREATE SEQUENCE seq_tb_itens_orcamento_log
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
NO CYCLE;

CREATE SEQUENCE seq_tb_morador_endereco_log
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
NO CYCLE;

CREATE SEQUENCE seq_tb_ocorrencia_pf_envolvida_log
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
NO CYCLE;

CREATE SEQUENCE seq_tb_ocorrencia_log
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
NO CYCLE;

CREATE SEQUENCE seq_tb_orcamento_log
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
NO CYCLE;

CREATE SEQUENCE seq_tb_ordem_servico_log
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
NO CYCLE;

CREATE SEQUENCE seq_tb_pessoa_fisica_log
INCREMENT 1 
MINVALUE 1 
MAXVALUE 9223372036854775807
START 1
NO CYCLE;

CREATE SEQUENCE seq_tb_pessoa_juridica_log
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
NO CYCLE;

CREATE SEQUENCE seq_tb_pf_endereco_log
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
NO CYCLE;

CREATE SEQUENCE seq_tb_pj_endereco_log
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
NO CYCLE;

CREATE SEQUENCE seq_tb_profissao_log
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
NO CYCLE;

CREATE SEQUENCE seq_tb_relacionados_log
INCREMENT 1
MINVALUE 1 
MAXVALUE 9223372036854775807
START 1
NO CYCLE;

CREATE SEQUENCE seq_tb_servico_adicional_log
INCREMENT 1
MINVALUE 1 
MAXVALUE 9223372036854775807
START 1
NO CYCLE;

CREATE SEQUENCE seq_tb_setor_log
INCREMENT 1
MINVALUE 1 
MAXVALUE 9223372036854775807
START 1 
NO CYCLE;

CREATE SEQUENCE seq_tb_usuario_log
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
NO CYCLE;

CREATE SEQUENCE seq_tb_vaga_garagem_log
INCREMENT 1
MINVALUE 1 
MAXVALUE 9223372036854775807
START 1
NO CYCLE;

CREATE SEQUENCE seq_tb_pf_telefone_log
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
NO CYCLE;

CREATE SEQUENCE seq_tb_pj_telefone_log
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
NO CYCLE;

-------------------------Usuario---------------------------

CREATE SEQUENCE seq_cd_usuario;

DELETE 
FROM pg_authid
WHERE rolname = 'administrador';

CREATE GROUP administrador;

	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_apartamento TO administrador;
	GRANT SELECT, INSERT ON tb_apartamento_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_apartamento_log TO administrador;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_categoria TO administrador;
	GRANT SELECT, INSERT ON tb_categoria_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_categoria_log TO administrador;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_categoria_valor TO administrador;
	GRANT SELECT, INSERT ON tb_categoria_valor_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_categoria_valor_log TO administrador;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_itens_orcamento TO administrador;
	GRANT SELECT, INSERT  ON tb_itens_orcamento_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_itens_orcamento_log TO administrador;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_morador_endereco TO administrador;
	GRANT SELECT, INSERT ON tb_morador_endereco_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_morador_endereco_log TO administrador;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_ocorrencia TO administrador;
	GRANT SELECT, INSERT ON tb_ocorrencia_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_ocorrencia_log TO administrador;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_ocorrencia_pf_envolvida TO administrador;
	GRANT SELECT, INSERT ON tb_ocorrencia_pf_envolvida_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_ocorrencia_pf_envolvida_log TO administrador;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_orcamento TO administrador;
	GRANT SELECT, INSERT ON tb_orcamento_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_orcamento_log TO administrador;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_ordem_servico TO administrador;
	GRANT SELECT, INSERT ON tb_ordem_servico_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_ordem_servico_log TO administrador;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_pessoa_fisica TO administrador;
	GRANT SELECT, INSERT ON tb_pessoa_fisica_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_pessoa_fisica_log TO administrador;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_pessoa_juridica TO administrador;
	GRANT SELECT, INSERT ON tb_pessoa_juridica_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_pessoa_juridica_log TO administrador;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_pf_endereco TO administrador;
	GRANT SELECT, INSERT ON tb_pf_endereco_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_pf_endereco_log TO administrador;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_pf_telefone TO administrador;
	GRANT SELECT, INSERT ON tb_pf_telefone_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_pf_telefone_log TO administrador;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_pj_endereco TO administrador;
	GRANT SELECT, INSERT ON tb_pj_endereco_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_pj_endereco_log TO administrador;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_pj_telefone TO administrador;
	GRANT SELECT, INSERT ON tb_pj_telefone_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_pj_telefone_log TO administrador;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_profissao TO administrador;
	GRANT SELECT, INSERT ON tb_profissao_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_profissao_log TO administrador;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_relacionados TO administrador;
	GRANT SELECT, INSERT ON tb_relacionados_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_relacionados_log TO administrador;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_servico_adicional TO administrador;
	GRANT SELECT, INSERT ON tb_servico_adicional_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_servico_adicional_log TO administrador;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_setor TO administrador;
	GRANT SELECT, INSERT ON tb_setor_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_setor_log TO administrador;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_usuario TO administrador;
	GRANT SELECT, INSERT ON tb_usuario_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_usuario_log TO administrador;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_vaga_garagem TO administrador;
	GRANT SELECT, INSERT ON tb_vaga_garagem_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_vaga_garagem_log TO administrador;
	GRANT SELECT, USAGE, UPDATE ON  tb_apartamento_cd_apartamento_seq TO administrador;
	GRANT SELECT, USAGE, UPDATE ON  tb_categoria_cd_categoria_seq TO administrador;
	GRANT SELECT, USAGE, UPDATE ON  tb_categoria_valor_cd_vl_categoria_seq TO administrador;
	GRANT SELECT, USAGE, UPDATE ON  tb_itens_orcamento_nr_sequencia_seq TO administrador;
	GRANT SELECT, USAGE, UPDATE ON  tb_morador_endereco_nr_sequencia_seq TO administrador;
	GRANT SELECT, USAGE, UPDATE ON  tb_ocorrencia_cd_ocorrencia_seq TO administrador;
	GRANT SELECT, USAGE, UPDATE ON  tb_ocorrencia_pf_envolvida_cd_ocorrencia_seq TO administrador;
	GRANT SELECT, USAGE, UPDATE ON  tb_orcamento_cd_orcamento_seq TO administrador;
	GRANT SELECT, USAGE, UPDATE ON  tb_ordem_servico_cd_ordem_servico_seq TO administrador;
	GRANT SELECT, USAGE, UPDATE ON  tb_pessoa_fisica_cd_pessoa_fisica_seq TO administrador;
	GRANT SELECT, USAGE, UPDATE ON  tb_pessoa_juridica_cd_pessoa_juridica_seq TO administrador;
	GRANT SELECT, USAGE, UPDATE ON  tb_pf_endereco_nr_sequencia_seq TO administrador;
	GRANT SELECT, USAGE, UPDATE ON  tb_pf_telefone_cd_pf_fone_seq TO administrador;
	GRANT SELECT, USAGE, UPDATE ON  tb_pj_endereco_nr_sequencia_seq TO administrador;
	GRANT SELECT, USAGE, UPDATE ON  tb_pj_telefone_cd_pj_fone_seq TO administrador;
	GRANT SELECT, USAGE, UPDATE ON  tb_profissao_cd_profissao_seq TO administrador;
	GRANT SELECT, USAGE, UPDATE ON  tb_servico_adicional_cd_serv_adicional_seq TO administrador;
	GRANT SELECT, USAGE, UPDATE ON  tb_setor_cd_setor_seq TO administrador;
	GRANT SELECT, USAGE, UPDATE ON  tb_setor_log_cd_setor_seq TO administrador;
	GRANT SELECT, USAGE, UPDATE ON  tb_vaga_garagem_cd_vaga_seq TO administrador;
		
	
DELETE 
FROM pg_authid
WHERE rolname = 'atendente';

CREATE GROUP atendente;

	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_apartamento TO atendente;
	GRANT INSERT ON tb_apartamento_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_apartamento_log TO atendente;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_categoria TO atendente;
	GRANT INSERT ON tb_categoria_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_categoria_log TO atendente;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_categoria_valor TO atendente;
	GRANT INSERT ON tb_categoria_valor_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_categoria_valor_log TO atendente;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_itens_orcamento TO atendente;
	GRANT INSERT  ON tb_itens_orcamento_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_itens_orcamento_log TO atendente;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_morador_endereco TO atendente;
	GRANT INSERT ON tb_morador_endereco_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_morador_endereco_log TO atendente;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_ocorrencia TO atendente;
	GRANT INSERT ON tb_ocorrencia_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_ocorrencia_log TO atendente;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_ocorrencia_pf_envolvida TO atendente;
	GRANT INSERT ON tb_ocorrencia_pf_envolvida_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_ocorrencia_pf_envolvida_log TO atendente;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_orcamento TO atendente;
	GRANT INSERT ON tb_orcamento_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_orcamento_log TO atendente;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_ordem_servico TO atendente;
	GRANT INSERT ON tb_ordem_servico_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_ordem_servico_log TO atendente;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_pessoa_fisica TO atendente;
	GRANT INSERT ON tb_pessoa_fisica_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_pessoa_fisica_log TO atendente;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_pessoa_juridica TO atendente;
	GRANT INSERT ON tb_pessoa_juridica_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_pessoa_juridica_log TO atendente;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_pf_endereco TO atendente;
	GRANT INSERT ON tb_pf_endereco_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_pf_endereco_log TO atendente;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_pf_telefone TO atendente;
	GRANT INSERT ON tb_pf_telefone_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_pf_telefone_log TO atendente;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_pj_endereco TO atendente;
	GRANT INSERT ON tb_pj_endereco_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_pj_endereco_log TO atendente;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_pj_telefone TO atendente;
	GRANT INSERT ON tb_pj_telefone_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_pj_telefone_log TO atendente;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_profissao TO atendente;
	GRANT INSERT ON tb_profissao_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_profissao_log TO atendente;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_relacionados TO atendente;
	GRANT INSERT ON tb_relacionados_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_relacionados_log TO atendente;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_servico_adicional TO atendente;
	GRANT INSERT ON tb_servico_adicional_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_servico_adicional_log  TO atendente;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_setor TO atendente;
	GRANT INSERT ON tb_setor_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_setor_log TO atendente;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_vaga_garagem TO atendente;
	GRANT INSERT ON tb_vaga_garagem_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_vaga_garagem_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_vaga_garagem_log TO atendente;
	GRANT SELECT, USAGE, UPDATE ON  tb_apartamento_cd_apartamento_seq TO atendente;
	GRANT SELECT, USAGE, UPDATE ON  tb_categoria_cd_categoria_seq TO atendente;
	GRANT SELECT, USAGE, UPDATE ON  tb_categoria_valor_cd_vl_categoria_seq TO atendente;
	GRANT SELECT, USAGE, UPDATE ON  tb_itens_orcamento_nr_sequencia_seq TO atendente;
	GRANT SELECT, USAGE, UPDATE ON  tb_morador_endereco_nr_sequencia_seq TO atendente;
	GRANT SELECT, USAGE, UPDATE ON  tb_ocorrencia_cd_ocorrencia_seq TO atendente;
	GRANT SELECT, USAGE, UPDATE ON  tb_ocorrencia_pf_envolvida_cd_ocorrencia_seq TO atendente;
	GRANT SELECT, USAGE, UPDATE ON  tb_orcamento_cd_orcamento_seq TO atendente;
	GRANT SELECT, USAGE, UPDATE ON  tb_ordem_servico_cd_ordem_servico_seq TO atendente;
	GRANT SELECT, USAGE, UPDATE ON  tb_pessoa_fisica_cd_pessoa_fisica_seq TO atendente;
	GRANT SELECT, USAGE, UPDATE ON  tb_pessoa_juridica_cd_pessoa_juridica_seq TO atendente;
	GRANT SELECT, USAGE, UPDATE ON  tb_pf_endereco_nr_sequencia_seq TO atendente;
	GRANT SELECT, USAGE, UPDATE ON  tb_pf_telefone_cd_pf_fone_seq TO atendente;
	GRANT SELECT, USAGE, UPDATE ON  tb_pj_endereco_nr_sequencia_seq TO atendente;
	GRANT SELECT, USAGE, UPDATE ON  tb_pj_telefone_cd_pj_fone_seq TO atendente;
	GRANT SELECT, USAGE, UPDATE ON  tb_profissao_cd_profissao_seq TO atendente;
	GRANT SELECT, USAGE, UPDATE ON  tb_servico_adicional_cd_serv_adicional_seq TO atendente;
	GRANT SELECT, USAGE, UPDATE ON  tb_setor_cd_setor_seq TO atendente;
	GRANT SELECT, USAGE, UPDATE ON  tb_setor_log_cd_setor_seq TO atendente;
	GRANT SELECT, USAGE, UPDATE ON  tb_vaga_garagem_cd_vaga_seq TO atendente;

DELETE 
FROM pg_authid
WHERE rolname = 'usuario';

CREATE GROUP usuario;

	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_apartamento TO usuario;
	GRANT INSERT ON tb_apartamento_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_apartamento_log TO usuario;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_categoria TO usuario;
	GRANT INSERT ON tb_categoria_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_categoria_log TO usuario;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_categoria_valor TO usuario;
	GRANT INSERT ON tb_categoria_valor_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_categoria_valor_log TO usuario;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_itens_orcamento TO usuario;
	GRANT INSERT  ON tb_itens_orcamento_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_itens_orcamento_log TO usuario;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_morador_endereco TO usuario;
	GRANT INSERT ON tb_morador_endereco_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_morador_endereco_log TO usuario;
	GRANT SELECT ON tb_ocorrencia TO usuario;
	GRANT INSERT ON tb_ocorrencia_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_ocorrencia_log TO usuario;
	GRANT SELECT ON tb_ocorrencia_pf_envolvida TO usuario;
	GRANT INSERT ON tb_ocorrencia_pf_envolvida_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_ocorrencia_pf_envolvida_log TO usuario;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_orcamento TO usuario;
	GRANT INSERT ON tb_orcamento_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_orcamento_log TO usuario;
	GRANT SELECT ON tb_ordem_servico TO usuario;
	GRANT INSERT ON tb_ordem_servico_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_ordem_servico_log TO usuario;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_pessoa_fisica TO usuario;
	GRANT INSERT ON tb_pessoa_fisica_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_pessoa_fisica_log TO usuario;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_pessoa_juridica TO usuario;
	GRANT INSERT ON tb_pessoa_juridica_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_pessoa_juridica_log TO usuario;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_pf_endereco TO usuario;
	GRANT INSERT ON tb_pf_endereco_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_pf_endereco_log TO usuario;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_pf_telefone TO usuario;
	GRANT INSERT ON tb_pf_telefone_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_pf_telefone_log TO usuario;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_pj_endereco TO usuario;
	GRANT INSERT ON tb_pj_endereco_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_pj_endereco_log TO usuario;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_pj_telefone TO usuario;
	GRANT INSERT ON tb_pj_telefone_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_pj_telefone_log TO usuario;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_profissao TO usuario;
	GRANT INSERT ON tb_profissao_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_profissao_log TO usuario;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_relacionados TO usuario;
	GRANT INSERT ON tb_relacionados_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_relacionados_log TO usuario;
	GRANT SELECT ON tb_servico_adicional TO usuario;
	GRANT INSERT ON tb_servico_adicional_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_servico_adicional_log TO usuario;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_setor TO usuario;
	GRANT INSERT ON tb_setor_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_setor_log TO usuario;
	GRANT SELECT, INSERT, UPDATE, DELETE ON tb_vaga_garagem TO usuario;
	GRANT INSERT ON tb_vaga_garagem_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_vaga_garagem_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON seq_tb_vaga_garagem_log TO usuario;
	GRANT SELECT, USAGE, UPDATE ON  tb_apartamento_cd_apartamento_seq TO usuario;
	GRANT SELECT, USAGE, UPDATE ON  tb_categoria_cd_categoria_seq TO usuario;
	GRANT SELECT, USAGE, UPDATE ON  tb_categoria_valor_cd_vl_categoria_seq TO usuario;
	GRANT SELECT, USAGE, UPDATE ON  tb_itens_orcamento_nr_sequencia_seq TO usuario;
	GRANT SELECT, USAGE, UPDATE ON  tb_morador_endereco_nr_sequencia_seq TO usuario;
	GRANT SELECT, USAGE, UPDATE ON  tb_ocorrencia_cd_ocorrencia_seq TO usuario;
	GRANT SELECT, USAGE, UPDATE ON  tb_ocorrencia_pf_envolvida_cd_ocorrencia_seq TO usuario;
	GRANT SELECT, USAGE, UPDATE ON  tb_orcamento_cd_orcamento_seq TO usuario;
	GRANT SELECT, USAGE, UPDATE ON  tb_ordem_servico_cd_ordem_servico_seq TO usuario;
	GRANT SELECT, USAGE, UPDATE ON  tb_pessoa_fisica_cd_pessoa_fisica_seq TO usuario;
	GRANT SELECT, USAGE, UPDATE ON  tb_pessoa_juridica_cd_pessoa_juridica_seq TO usuario;
	GRANT SELECT, USAGE, UPDATE ON  tb_pf_endereco_nr_sequencia_seq TO usuario;
	GRANT SELECT, USAGE, UPDATE ON  tb_pf_telefone_cd_pf_fone_seq TO usuario;
	GRANT SELECT, USAGE, UPDATE ON  tb_pj_endereco_nr_sequencia_seq TO usuario;
	GRANT SELECT, USAGE, UPDATE ON  tb_pj_telefone_cd_pj_fone_seq TO usuario;
	GRANT SELECT, USAGE, UPDATE ON  tb_profissao_cd_profissao_seq TO usuario;
	GRANT SELECT, USAGE, UPDATE ON  tb_servico_adicional_cd_serv_adicional_seq TO usuario;
	GRANT SELECT, USAGE, UPDATE ON  tb_setor_cd_setor_seq TO usuario;
	GRANT SELECT, USAGE, UPDATE ON  tb_setor_log_cd_setor_seq TO usuario;
	GRANT SELECT, USAGE, UPDATE ON  tb_vaga_garagem_cd_vaga_seq TO usuario;
	
	
INSERT INTO TB_PESSOA_FISICA(
NM_PESSOA_FISICA,
CPF,
RG,
DT_NASCIMENTO,
IE_SEXO)
VALUES
('Administrador',
 '000.000.000-00',
 '00000000',
 '01/01/2000',
 'M');
	
--fc_criar_usuario(login,senha,nivel,status,cd_pessoa_fisica,login_trocar)	

CREATE OR REPLACE FUNCTION fc_criar_usuario (varchar, varchar, integer, varchar, integer, varchar) RETURNS varchar AS
$$
DECLARE 

	existe INTEGER;
	existe2 INTEGER;
	existe3 INTEGER;
	cd_usu_banco_oid BIGINT;
	existe5 INTEGER;
	aux_nivel INTEGER;
	login_prop INTEGER;
			
BEGIN
	
	SELECT count(*)
	INTO existe		
	FROM tb_usuario
	WHERE login = $1;
	
	SELECT count(*)
	INTO existe2
	FROM tb_usuario
	WHERE cd_usuario = $5;
	
	SELECT count(*)
	INTO existe3
	FROM tb_pessoa_fisica
	WHERE cd_pessoa_fisica = $5;
	
	SELECT count(*)
	INTO existe5		
	FROM tb_usuario
	WHERE login = $6;
	
	SELECT count(*)
	INTO login_prop		
	FROM tb_usuario
	WHERE login = $6
	AND cd_usuario = $5;
	
	IF (existe3 = 1) THEN
	
		IF (existe2 = 0) THEN
							
			IF (existe = 0) THEN

				EXECUTE 'CREATE ROLE "' || $5 || '" LOGIN ENCRYPTED PASSWORD ''' || $2 || ''' SUPERUSER';
							
				IF ($3 = 1) THEN 
		
					EXECUTE 'ALTER GROUP administrador ADD USER "' || $5 || '"';	
					
					EXECUTE 'ALTER ROLE "' || $5 || '" CREATEROLE';
				
				ELSIF ($3 = 2) THEN
		
					EXECUTE 'ALTER GROUP atendente ADD USER "' || $5 || '"';	
					
					EXECUTE 'ALTER ROLE "' || $5 || '" NOCREATEROLE';
	
				ELSIF ($3 = 3) THEN
		
					EXECUTE 'ALTER GROUP usuario ADD USER "' || $5 || '"';
					
					EXECUTE 'ALTER ROLE "' || $5 || '" NOCREATEROLE';
		
				END IF;
		
				IF ($4 = 'I') THEN
		
					EXECUTE 'ALTER ROLE "' || $5 || '" NOLOGIN';
								
				END IF;
				
				SELECT oid
				INTO cd_usu_banco_oid
				FROM pg_roles
				WHERE rolname = $5::VARCHAR(60);
				
				INSERT INTO tb_usuario SELECT $5, 
											  $1,
											  $3, 
											  $4,
								cd_usu_banco_oid,											  
											  1,
											  now(),
											  1,
											  now();
											  
				RETURN 'Usuario criado com sucesso!';
		 				
			ELSE
			
				RETURN 'J existe um usurio cadastrado com esse nome!';
			
			END IF;
		
		ELSE
												
			IF ($6 IS NOT NULL) THEN 				
		
				IF (login_prop = 0) THEN
				
					IF (existe5 = 0) THEN
													
						UPDATE tb_usuario SET	
							login = $6							
						WHERE cd_usuario = $5;						
						
					ELSE
				
						RETURN 'A outro perfil que j possui uma conta de usurio com esse nome!';
				
					END IF;
					
				END IF;

			END IF;

			IF ($2 IS NOT NULL) THEN				
			
				EXECUTE 'ALTER ROLE "' || $5 || '" WITH ENCRYPTED PASSWORD ''' || $2 || '''';
				
			END IF;
				
			IF ($4 IS NOT NULL) THEN 
				
				IF ($4 = 'I') THEN
		
					EXECUTE 'ALTER ROLE "' || $5 || '" NOLOGIN';	

					UPDATE tb_usuario SET	
					IE_STATUS = $4
					WHERE cd_usuario = $5;											
				
				END IF;
					
				IF ($4 = 'A') THEN
		
					EXECUTE 'ALTER ROLE "' || $5 || '" LOGIN';	

					UPDATE tb_usuario SET	
					IE_STATUS = $4
					WHERE cd_usuario = $5;											
				
				END IF;
					
			END IF;
						
			IF($3 IS NOT NULL) THEN
			
				SELECT NIVEL
				INTO aux_nivel
				FROM tb_usuario
				WHERE cd_usuario = $5;
					
				UPDATE tb_usuario SET	
					nivel = $3,
					CD_USUARIO_CRIACAO =  user::INTEGER,
					DT_USUARIO_CRIACAO = now(),
					CD_USUARIO_ATUALIZA = user::INTEGER,
				    DT_USUARIO_ATUALIZA = now()
				WHERE cd_usuario = $5;	
		
				IF (aux_nivel = 1) THEN 
		
					EXECUTE 'ALTER GROUP administrador DROP USER "' || $5 || '"';
		
				ELSIF (aux_nivel = 2) THEN
	
					EXECUTE 'ALTER GROUP atendente DROP USER "' || $5 || '"';	
						
				ELSIF (aux_nivel = 3) THEN

					EXECUTE 'ALTER GROUP usuario DROP USER "' || $5 || '"';
	
				END IF;		
		
				IF ($3 = 1) THEN 
		
					EXECUTE 'ALTER GROUP administrador ADD USER "' || $5 || '"';
						
					EXECUTE 'ALTER ROLE "' || $5 || '" CREATEROLE';
			
				ELSIF ($3 = 2) THEN
		
					EXECUTE 'ALTER GROUP atendente ADD USER "' || $5 || '"';	
						
					EXECUTE 'ALTER ROLE "' || $5 || '" NOCREATEROLE';
		
				ELSIF ($3 = 3) THEN
		
					EXECUTE 'ALTER GROUP usuario ADD USER "' || $5 || '"';	
					
					EXECUTE 'ALTER ROLE "' || $5 || '" NOCREATEROLE';
		
				END IF;
					
				RETURN 'Usuario alterado com sucesso!';
									
			END IF;
						
			UPDATE tb_usuario SET 
				CD_USUARIO_CRIACAO = user::INTEGER,
				DT_USUARIO_CRIACAO = now(),
				CD_USUARIO_ATUALIZA = user::INTEGER,
				DT_USUARIO_ATUALIZA = now()
			WHERE CD_USUARIO = $5;
			
			RETURN 'Usuario alterado com sucesso!';
						
		END IF;
	
	ELSE
	
		RETURN 'No existe este perfil';
	
	END IF;
			
	RETURN null;
END;
$$ LANGUAGE 'plpgsql'; 

SELECT fc_criar_usuario('administrador','123456',1,'A',1,NULL);

CREATE OR REPLACE FUNCTION fc_criar_usuario (varchar, varchar, integer, varchar, integer, varchar) RETURNS varchar AS
$$
DECLARE 

	existe INTEGER;
	existe2 INTEGER;
	existe3 INTEGER;
	cd_usu_banco_oid BIGINT;
	existe5 INTEGER;
	aux_nivel INTEGER;
	login_prop INTEGER;
	
			
BEGIN
	
	SELECT count(*)
	INTO existe		
	FROM tb_usuario
	WHERE login = $1;
	
	SELECT count(*)
	INTO existe2
	FROM tb_usuario
	WHERE cd_usuario = $5;
	
	SELECT count(*)
	INTO existe3
	FROM tb_pessoa_fisica
	WHERE cd_pessoa_fisica = $5;

	
	SELECT count(*)
	INTO existe5		
	FROM tb_usuario
	WHERE login = $6;
	
	SELECT count(*)
	INTO login_prop		
	FROM tb_usuario
	WHERE login = $6
	AND cd_usuario = $5;
	
	IF (existe3 = 1) THEN
	
		IF (existe2 = 0) THEN
							
			IF (existe = 0) THEN

				EXECUTE 'CREATE ROLE "' || $5 || '" LOGIN ENCRYPTED PASSWORD ''' || $2 || ''' SUPERUSER';
							
				IF ($3 = 1) THEN 
		
					EXECUTE 'ALTER GROUP administrador ADD USER "' || $5 || '"';	
					
					EXECUTE 'ALTER ROLE "' || $5 || '" CREATEROLE';
				
				ELSIF ($3 = 2) THEN
		
					EXECUTE 'ALTER GROUP atendente ADD USER "' || $5 || '"';	
					
					EXECUTE 'ALTER ROLE "' || $5 || '" NOCREATEROLE';
	
				ELSIF ($3 = 3) THEN
		
					EXECUTE 'ALTER GROUP usuario ADD USER "' || $5 || '"';
					
					EXECUTE 'ALTER ROLE "' || $5 || '" NOCREATEROLE';
		
				END IF;
		
				IF ($4 = 'I') THEN
		
					EXECUTE 'ALTER ROLE "' || $5 || '" NOLOGIN';
				
				END IF;
				
				SELECT oid
				INTO cd_usu_banco_oid
				FROM pg_roles
				WHERE rolname = $5::VARCHAR(60);
				
				INSERT INTO tb_usuario SELECT $5, 
											  $1,
											  $3, 
											  $4,
								cd_usu_banco_oid,		  
											  user::INTEGER,
											  now(),
											  user::INTEGER,
											  now();
											  
				RETURN 'Usuario criado com sucesso!';
		 				
			ELSE
			
				RETURN 'J existe um usurio cadastrado com esse nome!';
			
			END IF;
		
		ELSE
												
			IF ($6 IS NOT NULL) THEN 				
		
				IF (login_prop = 0) THEN
				
					IF (existe5 = 0) THEN
													
						UPDATE tb_usuario SET	
							login = $6							
						WHERE cd_usuario = $5;						
						
					ELSE
				
						RETURN 'A outro perfil que j possui uma conta de usurio com esse nome!';
				
					END IF;
					
				END IF;

			END IF;

			IF ($2 IS NOT NULL) THEN				
			
				EXECUTE 'ALTER ROLE "' || $5 || '" WITH ENCRYPTED PASSWORD ''' || $2 || '''';
					
			END IF;
				
			IF ($4 IS NOT NULL) THEN 
				
				IF ($4 = 'I') THEN
		
					EXECUTE 'ALTER ROLE "' || $5 || '" NOLOGIN';	

					UPDATE tb_usuario SET	
					IE_STATUS = $4
					WHERE cd_usuario = $5;	
				
				END IF;
					
				IF ($4 = 'A') THEN
		
					EXECUTE 'ALTER ROLE "' || $5 || '" LOGIN';	

					UPDATE tb_usuario SET	
					IE_STATUS = $4
					WHERE cd_usuario = $5;											
				
				END IF;
					
			END IF;
						
			IF($3 IS NOT NULL) THEN
			
				SELECT NIVEL
				INTO aux_nivel
				FROM tb_usuario
				WHERE cd_usuario = $5;
					
				UPDATE tb_usuario SET	
					nivel = $3,
					CD_USUARIO_CRIACAO = user::INTEGER,
					DT_USUARIO_CRIACAO = now(),
					CD_USUARIO_ATUALIZA = user::INTEGER,
				    DT_USUARIO_ATUALIZA = now()
				WHERE cd_usuario = $5;	
		
				IF (aux_nivel = 1) THEN 
		
					EXECUTE 'ALTER GROUP administrador DROP USER "' || $5 || '"';
			
				ELSIF (aux_nivel = 2) THEN
		
					EXECUTE 'ALTER GROUP atendente DROP USER "' || $5 || '"';	
							
				ELSIF (aux_nivel = 3) THEN
		
					EXECUTE 'ALTER GROUP usuario DROP USER "' || $5 || '"';
		
				END IF;		
		
				IF ($3 = 1) THEN 
		
					EXECUTE 'ALTER GROUP administrador ADD USER "' || $5 || '"';
						
					EXECUTE 'ALTER ROLE "' || $5 || '" CREATEROLE';
			
				ELSIF ($3 = 2) THEN
		
					EXECUTE 'ALTER GROUP atendente ADD USER "' || $5 || '"';	
					
					EXECUTE 'ALTER ROLE "' || $5 || '" NOCREATEROLE';
		
				ELSIF ($3 = 3) THEN
		
					EXECUTE 'ALTER GROUP usuario ADD USER "' || $5 || '"';	
						
					EXECUTE 'ALTER ROLE "' || $5 || '" NOCREATEROLE';
		
				END IF;
					
				RETURN 'Usuario alterado com sucesso!';
									
			END IF;
						
			UPDATE tb_usuario SET 
				CD_USUARIO_CRIACAO = user::INTEGER,
				DT_USUARIO_CRIACAO = now(),
				CD_USUARIO_ATUALIZA = user::INTEGER,
				DT_USUARIO_ATUALIZA = now()
			WHERE CD_USUARIO = $5;
			
			RETURN 'Usuario alterado com sucesso!';

						
		END IF;
	
	ELSE
	
		RETURN 'No existe este perfil';
	
	END IF;
			
	RETURN null;
END;
$$ LANGUAGE 'plpgsql'; 



CREATE OR REPLACE FUNCTION fn_relacionados(p_pf1 INTEGER, p_pf2 INTEGER, p_cd_catg_relac INTEGER, p_deleta VARCHAR DEFAULT NULL)
RETURNS VARCHAR AS 
$$
DECLARE
v_cd_catg_relac_2 INTEGER; 
v_cadastrado INTEGER;
v_exist_parametro INTEGER;
v_categoria_1_coluna INTEGER;
v_genero CHAR(1);
BEGIN 

		SELECT COUNT(*)
			INTO v_cadastrado
		FROM tb_relacionados 
		WHERE cd_pessoa_fisica_1 = p_pf1
		AND cd_pessoa_fisica_2 = p_pf2;
		
		SELECT COUNT(*)
		INTO v_exist_parametro
		FROM tb_relac_parametro 
		WHERE cd_catg_vl_relac_1 = p_cd_catg_relac
		OR cd_catg_vl_relac_2 = p_cd_catg_relac;

		IF v_exist_parametro >= 1 THEN 
			
			SELECT ie_sexo
				INTO v_genero
			FROM tb_pessoa_fisica 
			WHERE cd_pessoa_fisica = p_pf1;
		
			SELECT COUNT(*)
				INTO v_categoria_1_coluna
			FROM tb_relac_parametro 
			WHERE cd_catg_vl_relac_1 = p_cd_catg_relac;
			
			IF v_categoria_1_coluna >= 1 THEN 

				IF v_genero = 'M' THEN 

					SELECT cd_vl_categoria
						INTO v_cd_catg_relac_2
					FROM tb_relac_parametro p,
					tb_categoria_valor  c
					WHERE p.cd_catg_vl_relac_2 = c.cd_vl_categoria
					AND p.cd_catg_vl_relac_1 = p_cd_catg_relac
					AND c.genero = 'M';

				ELSIF v_genero = 'F' THEN

					SELECT cd_vl_categoria
						INTO v_cd_catg_relac_2
					FROM tb_relac_parametro p,
					tb_categoria_valor  c
					WHERE p.cd_catg_vl_relac_2 = c.cd_vl_categoria
					AND p.cd_catg_vl_relac_1 = p_cd_catg_relac
					AND c.genero = 'F';

				END IF;
					
				IF v_cd_catg_relac_2 IS NULL THEN

					SELECT cd_catg_vl_relac_2
						INTO v_cd_catg_relac_2
					FROM tb_relac_parametro 
					WHERE cd_catg_vl_relac_1 = p_cd_catg_relac;

				END IF;
	
			ELSE
				
				IF v_genero = 'M' THEN

					SELECT cd_vl_categoria
						INTO v_cd_catg_relac_2
					FROM tb_relac_parametro p,
					tb_categoria_valor  c
					WHERE p.cd_catg_vl_relac_1 = c.cd_vl_categoria
					AND p.cd_catg_vl_relac_2 = p_cd_catg_relac
					AND c.genero = 'M';					

				ELSiF v_genero = 'F'  THEN

					SELECT cd_vl_categoria
						INTO v_cd_catg_relac_2
					FROM tb_relac_parametro p,
					tb_categoria_valor  c
					WHERE p.cd_catg_vl_relac_1 = c.cd_vl_categoria
					AND p.cd_catg_vl_relac_2 = p_cd_catg_relac
					AND c.genero = 'F';

				END IF;

				IF v_cd_catg_relac_2 IS NULL THEN

					SELECT cd_catg_vl_relac_1
						INTO v_cd_catg_relac_2
					FROM tb_relac_parametro 
					WHERE cd_catg_vl_relac_2 = p_cd_catg_relac;			

				END IF;
				
			
			END IF;
	

			IF p_deleta IS NOT NULL THEN 
				
				IF v_cadastrado > 0 THEN
				
					DELETE 
					FROM  tb_relacionados 
					WHERE cd_pessoa_fisica_1 = p_pf1
					AND cd_pessoa_fisica_2 = p_pf2;

					DELETE 
					FROM  tb_relacionados 
					WHERE cd_pessoa_fisica_1 = p_pf2
					AND cd_pessoa_fisica_2 = p_pf1;
					
					RETURN 'Relacionamento deletado com sucesso!';
					
				ELSE
				
					RETURN 'Este relacionamento nao existe para ser excluido!';
					
				END IF;

				
			
			ELSE
			
				IF v_cadastrado = 0 THEN
	
					 INSERT INTO tb_relacionados(cd_pessoa_fisica_1,
												cd_pessoa_fisica_2,
												cd_catg_relac,
												cd_catg_vl_relac,
												cd_usuario_criacao,
												dt_usuario_criacao,
												cd_usuario_atualiza,
												dt_usuario_atualiza)
	
					VALUES
					(p_pf1,p_pf2,4,p_cd_catg_relac,user::INTEGER, now(),user::INTEGER, now());
		
					INSERT INTO tb_relacionados(cd_pessoa_fisica_1,
												cd_pessoa_fisica_2,
												cd_catg_relac,
												cd_catg_vl_relac,
												cd_usuario_criacao,
												dt_usuario_criacao,
												cd_usuario_atualiza,
												dt_usuario_atualiza)
	
					VALUES
					(p_pf2,p_pf1,4,v_cd_catg_relac_2,user::INTEGER, now(),user::INTEGER, now());
			
					RETURN 'Relacionamento inserido com sucesso! ';
		
				ELSE 
			
					UPDATE tb_relacionados SET
						cd_catg_vl_relac = p_cd_catg_relac,
						cd_usuario_atualiza=user::INTEGER,
						dt_usuario_atualiza=now()
					WHERE cd_pessoa_fisica_1 = p_pf1
					AND cd_pessoa_fisica_2 = p_pf2; 
			
					UPDATE tb_relacionados SET
						cd_catg_vl_relac = v_cd_catg_relac_2,
						cd_usuario_atualiza=user::INTEGER,
						dt_usuario_atualiza=now()
					WHERE cd_pessoa_fisica_1 = p_pf2
					AND cd_pessoa_fisica_2 = p_pf1;
			
					RETURN 'Relacionamento atualizado com sucesso!';
			
				END IF;
				
			END IF;
		
		END IF;
		
		RETURN 'Nao existe esta categoria ou ainda nao foi parametrizada na tabela tb_relac_parametro!';
END;
$$
LANGUAGE plpgsql;

INSERT INTO TB_CATEGORIA(
DESC_CATEGORIA)
VALUES
('Unidade Federativa'),
('Estado'),
('Estgio OS e ocorrncia'),
('Relacionados'),
('Fone pessoa fsica'),
('Fone pessoa juridica'),
('Grau de escolaridade'),
('Ramo de Atividade'),
('Endereo'),
('Operadora'),
('Servio Adicional'),
('Tipo Ocorrncia'),
('Tipo Ordem de Servio'),
('Curso'),
('Avaliao'),
('Tipo de Empresa'),
('Tipo de Setor'),
('Tipo de Sub-Setor');


INSERT INTO TB_CATEGORIA_VALOR(
 CD_CATEGORIA,
 DESC_VL_CATG,
 GENERO) 
VALUES
(1,'AC',NULL),
(1,'AL',NULL),
(1,'AP',NULL),
(1,'AM',NULL),
(1,'BA',NULL),
(1,'CE',NULL),
(1,'DF',NULL),
(1,'ES',NULL),
(1,'GO',NULL),
(1,'MA',NULL),
(1,'MT',NULL),
(1,'MS',NULL),
(1,'MG',NULL),
(1,'PA',NULL),
(1,'PB',NULL),
(1,'PR',NULL),
(1,'PE',NULL),
(1,'PI',NULL),
(1,'RJ',NULL),
(1,'RN',NULL),
(1,'RS',NULL),
(1,'RO',NULL),
(1,'RR',NULL),
(1,'SC',NULL),
(1,'SP',NULL),
(1,'SE',NULL),
(1,'TO',NULL),
(2,'Acre',NULL),
(2,'Alagoas',NULL),
(2,'Amap',NULL),
(2,'Amazonas',NULL),
(2,'Bahia',NULL),
(2,'Cear',NULL),
(2,'Distrito Federal',NULL),
(2,'Esprito Santo',NULL),
(2,'Gois',NULL),
(2,'Maranho',NULL),
(2,'Mato Grosso',NULL),
(2,'Mato Grosso do Sul',NULL),
(2,'Minas Gerais',NULL),
(2,'Par',NULL),
(2,'Paraba',NULL),
(2,'Paran',NULL),
(2,'Pernambuco',NULL),
(2,'Piua',NULL),
(2,'Rio de Janeiro',NULL),
(2,'Rio Grande do Norte',NULL),
(2,'Rio Grande do Sul',NULL),
(2,'Rondnia',NULL),
(2,'Roraima',NULL),
(2,'Santa Catarina',NULL),
(2,'So Paulo',NULL),
(2,'Sergipe',NULL),
(2,'Tocantins',NULL),
(3,'A Iniciar',NULL),
(3,'Execuo',NULL),
(3,'Anlise',NULL),
(3,'Finalizado',NULL),
(4,'Pai','M'),
(4,'Me','F'),
(4,'Filho','M'),
(4,'Filha','F'),
(4,'Nora','F'),
(4,'Genro','M'),
(4,'Cunhado','M'),
(4,'V','M'),
(4,'V','F'),
(4,'Neto','M'),
(4,'Neta','F'),
(4,'Esposa','F'),
(4,'Marido','M'),
(4,'Namorado','M'),
(4,'Namorada','F'),
(4,'Noivo','M'),
(4,'Noiva','F'),
(4,'Amigo','M'),
(4,'Amiga','F'),
(4,'Sogro','M'),
(4,'Sogra','F'),
(4,'Irmo','M'),
(4,'Irm','F'),
(5,'Residencial',NULL),
(5,'Comercial',NULL),
(5,'Celular',NULL),
(5,'Contato Extra',NULL),
(6,'Central',NULL),
(6,'Fax',NULL),
(6,'Ramal Direto',NULL),
(6,'Celular',NULL),
(7,'Primario',NULL),
(7,'Ensino Fundamental',NULL),
(7,'Ensino Mdio',NULL),
(7,'Curso Tcnico',NULL),
(7,'Ensino Superior',NULL),
(7,'Ps-Graduao',NULL),
(7,'Mestrado',NULL),
(7,'Doutorado',NULL),
(8,'Escola Municipal',NULL),
(8,'Escola Estadual',NULL),
(8,'Escola Particular',NULL),
(8,'Universidade Particular',NULL),
(8,'Universidade Federal',NULL),
(8,'Universidade Estadual',NULL),
(8,'Universidade Municipal',NULL),
(8,'Cursos Tecnolgicos',NULL),
(8,'Cursos Tcnicos',NULL),
(8,'Condomnio',NULL),
(8,'Software',NULL),
(9,'Residencial',NULL),
(9,'Comercial',NULL),
(9,'Condomnio de Apartamentos',NULL),
(9,'Predio',NULL),
(9,'Outros',NULL),
(10,'Claro',NULL),
(10,'Oi',NULL),
(10,'Tim',NULL),
(10,'CTBC',NULL),
(10,'Telefonica',NULL),
(10,'Embratel',NULL),
(10,'Net',NULL),
(11,'Internet',NULL),
(11,'Vaga de Garagem',NULL),
(12,'Barulho no apartamento',NULL),
(12,'Problema com visitante',NULL),
(12,'cesso sem chip',NULL),
(12,'Estacionamento em vaga errada',NULL),
(12,'Danos ao patrimnio',NULL),
(12,'Outros',NULL),
(13,'Zeladoria',NULL),
(13,'Tecnologia',NULL),
(13,'Outros',NULL),
(14, 'Medicina',NULL),
(14, 'Psicologia',NULL),
(14, 'Veterinria',NULL),
(14, 'Matemtica',NULL),
(14, 'Letras Ingls',NULL),
(14, 'Publicidade',NULL),
(14, 'Direito',NULL),
(14, 'Sistemas de Informao',NULL),
(14, 'Cincia da Computao',NULL),
(14, 'Engenharia Civil',NULL),
(14, 'Engenharia de Produo',NULL),
(14, 'Economia',NULL),
(14, 'Administrao',NULL),
(14, 'Esttica e Cosmtica',NULL),
(14, 'Moda',NULL),
(14, 'Gastronomia',NULL),
(14, 'Cincias Contbeis',NULL),
(14, 'Turismo',NULL),
(14, 'Anlise e Desenvolvimento',NULL),
(14, 'Biomedicina',NULL),
(14, 'Arquitetura',NULL),
(14, 'Nutrico',NULL),
(15, 'Bom',NULL),
(15, 'Regular',NULL),
(15, 'Ruim',NULL),
(16, 'Privada',NULL),
(16, 'Pblica',NULL),
(16, 'Ensino',NULL),
(17, 'Torre',NULL),
(17, 'rea de Lazer',NULL),
(17, 'Administrao',NULL),
(18, 'Apartamento',NULL),
(18, 'rea comum',NULL),
(18, 'Administrativo',NULL);

INSERT INTO TB_PROFISSAO(
NM_PROFISSAO,
CD_USUARIO_CRIACAO,
DT_USUARIO_CRIACAO,
CD_USUARIO_ATUALIZA,
DT_USUARIO_ATUALIZA
)
VALUES
('Almoxarife',1,now(),1,now()),
('Analista Contbil',1,now(),1,now()),
('Analista Faturamento',1,now(),1,now()),
('Aposentado',1,now(),1,now()),
('Assistente Social',1,now(),1,now()),
('Atendente de Enfermagem',1,now(),1,now()),
('Aux. Impresso',1,now(),1,now()),
('Aux. Servios Gerais',1,now(),1,now()),
('Auxiliar de Almoxarifado',1,now(),1,now()),
('Auxiliar de Contabilidade',1,now(),1,now()),
('Auxiliar de COntas a Pagar',1,now(),1,now()),
('Auxiliar de Contas a Pagar',1,now(),1,now()),
('Auxiliar de Contas a Receber',1,now(),1,now()),
('Auxiliar de Cozinha',1,now(),1,now()),
('Auxiliar de Enfermagem',1,now(),1,now()),
('Auxiliar de Enfermagem',1,now(),1,now()),
('Auxiliar de Escritrio',1,now(),1,now()),
('Auxiliar de Farmcia',1,now(),1,now()),
('Auxiliar de Internao',1,now(),1,now()),
('Auxiliar de Lavanderia',1,now(),1,now()),
('Auxiliar de Limpeza',1,now(),1,now()),
('Auxiliar de Manuteno',1,now(),1,now()),
('Auxiliar de Pessoal',1,now(),1,now()),
('Auxiliar de Rouparia',1,now(),1,now()),
('Auxiliar de Secretaria',1,now(),1,now()),
('Auxiliar de Tesouraria',1,now(),1,now()),
('Barbeiro',1,now(),1,now()),
('Cabeleireiro',1,now(),1,now()),
('Chefe Dep. de Financeiro',1,now(),1,now()),
('Chefe Dep. de Manuteno',1,now(),1,now()),
('Chefe Dep. de Psicologia',1,now(),1,now()),
('Chefe Dep. de Rec. Humanos',1,now(),1,now()),
('Chefe Dep. de Recepo/Internao',1,now(),1,now()),
('Chefe Dep. de Suprimentos',1,now(),1,now()),
('Chefe Dep. de T.O.',1,now(),1,now()),
('Chefe Dep. Financeiro',1,now(),1,now()),
('Chefe Dep. Servio Social',1,now(),1,now()),
('Chefe Serv. Limpeza',1,now(),1,now()),
('Comprador',1,now(),1,now()),
('Contador(a)',1,now(),1,now()),
('Coordenador Enfermagem',1,now(),1,now()),
('Costureira',1,now(),1,now()),
('Cozinheira',1,now(),1,now()),
('Diretor Clnico',1,now(),1,now()),
('Do Lar',1,now(),1,now()),
('Eletricista de Manuteno',1,now(),1,now()),
('Enfermeira',1,now(),1,now()),
('Farmacutica',1,now(),1,now()),
('Fisioterapeuta',1,now(),1,now()),
('Garom',1,now(),1,now()),
('Gerente Administrativo',1,now(),1,now()),
('Gerente de T.I.',1,now(),1,now()),
('Gerente Depto. Assist. Espiritual',1,now(),1,now()),
('Gerente Depto.Prop.Doutrinaria',1,now(),1,now()),
('Gerente Hospitalar',1,now(),1,now()),
('Inativo',1,now(),1,now()),
('Jardineiro',1,now(),1,now()),
('Marceneiro',1,now(),1,now()),
('Mecanico de Manuteno',1,now(),1,now()),
('Mdico Clnico Geral',1,now(),1,now()),
('Mdico Geriatra',1,now(),1,now()),
('Mdico Ginecologista',1,now(),1,now()),
('Mdico Neurologista',1,now(),1,now()),
('Mdico Plantonista',1,now(),1,now()),
('Mdico Psiquiatra',1,now(),1,now()),
('Montor de T.O.',1,now(),1,now()),
('Motorista',1,now(),1,now()),
('Musicoteraputa',1,now(),1,now()),
('Nutricionista',1,now(),1,now()),
('Outros',1,now(),1,now()),
('Pedreiro',1,now(),1,now()),
('Pintor',1,now(),1,now()),
('Presidente',1,now(),1,now()),
('Professor de Ed. Fsica',1,now(),1,now()),
('Programador de Computador',1,now(),1,now()),
('Psicologa',1,now(),1,now()),
('Recepcionista',1,now(),1,now()),
('Sapateiro',1,now(),1,now()),
('Serralheiro',1,now(),1,now()),
('Servente de Pedreiro',1,now(),1,now()),
('Superv. Rouparia/Lavanderia',1,now(),1,now()),
('Supervisor de Enfermagem',1,now(),1,now()),
('Supervisor Redao/Diagramao',1,now(),1,now()),
('Suporte Tcnico TI',1,now(),1,now()),
('Tcnico Contabil',1,now(),1,now()),
('Tcnico de Enfermagem',1,now(),1,now()),
('Tcnico Seg. Trabalho',1,now(),1,now()),
('Teraputa Ocupacional',1,now(),1,now());

UPDATE TB_USUARIO SET
CD_USUARIO_CRIACAO = 1,
DT_USUARIO_CRIACAO = now(),
CD_USUARIO_ATUALIZA = 1, 
DT_USUARIO_ATUALIZA	= now();

UPDATE TB_PESSOA_FISICA SET
CD_USUARIO_CRIACAO = 1,
DT_USUARIO_CRIACAO = now(),
CD_USUARIO_ATUALIZA = 1, 
DT_USUARIO_ATUALIZA	= now();

UPDATE TB_CATEGORIA_VALOR SET
CD_USUARIO_CRIACAO = 1,
DT_USUARIO_CRIACAO = now(),
CD_USUARIO_ATUALIZA = 1, 
DT_USUARIO_ATUALIZA	= now();

UPDATE TB_CATEGORIA SET
CD_USUARIO_CRIACAO = 1,
DT_USUARIO_CRIACAO = now(),
CD_USUARIO_ATUALIZA = 1, 
DT_USUARIO_ATUALIZA	= now();

ALTER TABLE TB_USUARIO ALTER COLUMN CD_USUARIO_CRIACAO SET NOT NULL;

ALTER TABLE TB_USUARIO ALTER COLUMN DT_USUARIO_CRIACAO SET NOT NULL;

ALTER TABLE TB_USUARIO ALTER COLUMN CD_USUARIO_ATUALIZA SET NOT NULL;

ALTER TABLE TB_USUARIO ALTER COLUMN DT_USUARIO_ATUALIZA SET NOT NULL;

ALTER TABLE TB_PESSOA_FISICA ALTER COLUMN CD_USUARIO_CRIACAO SET NOT NULL;

ALTER TABLE TB_PESSOA_FISICA ALTER COLUMN DT_USUARIO_CRIACAO SET NOT NULL;

ALTER TABLE TB_PESSOA_FISICA ALTER COLUMN CD_USUARIO_ATUALIZA SET NOT NULL;

ALTER TABLE TB_PESSOA_FISICA ALTER COLUMN DT_USUARIO_ATUALIZA SET NOT NULL;

ALTER TABLE TB_CATEGORIA_VALOR ALTER COLUMN CD_USUARIO_CRIACAO SET NOT NULL;

ALTER TABLE TB_CATEGORIA_VALOR ALTER COLUMN DT_USUARIO_CRIACAO SET NOT NULL;

ALTER TABLE TB_CATEGORIA_VALOR ALTER COLUMN CD_USUARIO_ATUALIZA SET NOT NULL;

ALTER TABLE TB_CATEGORIA_VALOR ALTER COLUMN DT_USUARIO_ATUALIZA SET NOT NULL;

ALTER TABLE TB_CATEGORIA ALTER COLUMN CD_USUARIO_CRIACAO SET NOT NULL;

ALTER TABLE TB_CATEGORIA ALTER COLUMN DT_USUARIO_CRIACAO SET NOT NULL;

ALTER TABLE TB_CATEGORIA ALTER COLUMN CD_USUARIO_ATUALIZA SET NOT NULL;

ALTER TABLE TB_CATEGORIA ALTER COLUMN DT_USUARIO_ATUALIZA SET NOT NULL;

---Insert para teste---

INSERT INTO tb_pessoa_fisica(
nm_pessoa_fisica,
cpf,
rg,
ie_sexo,
cd_catg_org_rg,
cd_vl_catg_org_rg,
dt_nascimento,
cd_usuario_criacao,
dt_usuario_criacao,
cd_usuario_atualiza,
dt_usuario_atualiza)
VALUES
('Joana',
 '000.000.000-03',
 '00000003',
  'F',
  1, 
  25,
  '01/01/2000',
  1,
  now(),
  1,
  now());


INSERT INTO tb_pf_endereco(
cd_catg_end,
cd_vl_catg_end,
cd_pessoa_fisica,
cep,
rua,
numero,
bairro,
cidade,
cd_catg_estado,
cd_vl_catg_estado,
cd_usuario_criacao,
dt_usuario_criacao,
cd_usuario_atualiza,
dt_usuario_atualiza)
VALUES
(9,110,1,
'00000-000',
'Presidente Vargas',
14,
'Vila Dionisio',
'Franca',
2,52,1,now(),1,now());


INSERT INTO tb_pessoa_juridica(
cnpj,
nm_fantasia,
desc_razao,
cd_catg_tipo_empresa,
cd_tipo_empresa,
cd_catg_ramo_atividade,
cd_ramo_atividade,
email,
cd_usuario_criacao,
dt_usuario_criacao,
cd_usuario_atualiza,
dt_usuario_atualiza)
VALUES
('08.950.468/0001-59',
'Vila Brasil',
'Condomnio Vila Brasil',
16,157,8,107,
'condominio@vlbrasil.com.br',
1,now(),1,now()),
('08.950.468/0001-00',
'Uni-FACEF',
'Centro Universitrio de Franca',
16,159,8,101,
'contato@unifacef.com.br',
1,now(),1,now());

INSERT INTO tb_pj_endereco(
cd_catg_end,
cd_vl_catg_end,
cd_pessoa_juridica,
cep,
rua,
numero,
bairro,
cidade,
cd_catg_estado,
cd_vl_catg_estado,
cd_usuario_criacao,
dt_usuario_criacao,
cd_usuario_atualiza,
dt_usuario_atualiza)
VALUES
(9,110,1,
'14403-180',
'Rua Alfredo Tosi',
'1821',
'Ncleo Alpha',
'Franca',
2,52,1,now(),1,now());

INSERT INTO tb_setor(
cd_condominio,
nm_setor,
cd_usuario_criacao,
dt_usuario_criacao,
cd_usuario_atualiza,
dt_usuario_atualiza)
VALUES
(1,'Torre 1',1,now(),1,now());


INSERT INTO tb_apartamento(
cd_setor,
desc_apartamento,
cd_usuario_criacao,
dt_usuario_criacao,
cd_usuario_atualiza,
dt_usuario_atualiza)
VALUES
(1,'A1',1,now(),1,now());

INSERT INTO tb_morador_endereco(
cd_pessoa_fisica,
cd_apartamento,
dt_entrada,
cd_usuario_criacao,
dt_usuario_criacao,
cd_usuario_atualiza,
dt_usuario_atualiza)
VALUES
(2,1,now(),1,now(),1,now());


INSERT INTO tb_vaga_garagem(
ds_vaga,
cd_setor,
cd_usuario_criacao,
dt_usuario_criacao,
cd_usuario_atualiza,
dt_usuario_atualiza)
VALUES
('T1',1,1,now(),1,now());

INSERT INTO tb_pf_telefone(
cd_pessoa_fisica,
fone,
cd_catg_fone_pf,
cd_vl_catg_fone_pf,
cd_catg_operadora,
cd_vl_catg_operadora,
cd_usuario_criacao,
dt_usuario_criacao,
cd_usuario_atualiza,
dt_usuario_atualiza)
VALUES
(2,'(16)99222-1212',
5,82,10,115,1,now(),1,now());

INSERT INTO tb_pj_telefone(
cd_pessoa_juridica,
fone,
cd_catg_fone_pj,
cd_vl_catg_fone_pj,
cd_catg_operadora,
cd_vl_catg_operadora,
cd_usuario_criacao,
dt_usuario_criacao,
cd_usuario_atualiza,
dt_usuario_atualiza)
VALUES
(1,'(16) 2177-5000',
6,86,10,115,1,now(),1,now());

INSERT INTO tb_ocorrencia
(cd_pf_informante,
desc_assunto,
desc_ocorrencia,
dt_ocorrencia,
cd_catg_estagio,
cd_vl_catg_estagio,
cd_catg_tipo,
cd_vl_catg_tipo,
cd_usuario_criacao,
dt_usuario_criacao,
cd_usuario_atualiza,
dt_usuario_atualiza)
VALUES
(1,'vidro quebrado',
'O administrador quebrou o vidro',
now(), 3, 56, 12, 125,
1,now(),1,now());

INSERT INTO tb_orcamento(
ds_orcamento,
dt_orcamento,
cd_usuario_criacao,
dt_usuario_criacao,
cd_usuario_atualiza,
dt_usuario_atualiza)
VALUES
('Porto central',now(),
1,now(),1,now());

INSERT INTO tb_itens_orcamento(
cd_orcamento,
cd_pessoa_juridica,
desc_item,
qt_item,
valor_unit,
valor_total,
ie_aprovado,
cd_usuario_criacao,
dt_usuario_criacao,
cd_usuario_atualiza,
dt_usuario_atualiza)
VALUES
(1,1,'portao',1,100.00,100.00,'P',
1,now(),1,now());

INSERT INTO tb_ordem_servico(
cd_pf_executor,
cd_pf_solicitante,
desc_assunto,
desc_ordem_servico,
dt_inicio,
cd_catg_estagio,
cd_vl_catg_estagio,
cd_catg_tipo,
cd_vl_catg_tipo,
cd_usuario_criacao,
dt_usuario_criacao,
cd_usuario_atualiza,
dt_usuario_atualiza)
VALUES
(1,2,'Internet','solicito a instalao de internet',
now(),2,52,1,1,1,now(),1,now());

INSERT INTO tb_relac_parametro
VALUES
(4,59,4,61,1, now(),1, now()),
(4,59,4,62,1, now(),1, now()),
(4,60,4,61,1, now(),1, now()),
(4,60,4,62,1, now(),1, now()),
(4,78,4,63,1, now(),1, now()),
(4,78,4,64,1, now(),1, now()),
(4,79,4,63,1, now(),1, now()),
(4,79,4,64,1, now(),1, now()),
(4,65,4,65,1, now(),1, now()),
(4,66,4,68,1, now(),1, now()),
(4,66,4,69,1, now(),1, now()),
(4,67,4,68,1, now(),1, now()),
(4,67,4,69,1, now(),1, now()),
(4,70,4,71,1, now(),1, now()),
(4,72,4,73,1, now(),1, now()),
(4,74,4,75,1, now(),1, now()),
(4,76,4,76,1, now(),1, now()),
(4,76,4,77,1, now(),1, now()),
(4,77,4,76,1, now(),1, now()),
(4,76,4,76,1, now(),1, now()),
(4,77,4,77,1, now(),1, now()),
(4,80,4,81,1, now(),1, now()),
(4,81,4,80,1, now(),1, now()),
(4,80,4,80,1, now(),1, now()),
(4,81,4,81,1, now(),1, now());

--triggers

CREATE OR REPLACE FUNCTION fc_tg_apartamento_log() RETURNS TRIGGER 
AS $tb_apartamento_log$
	BEGIN 
		
		IF (TG_OP = 'DELETE') THEN
			INSERT INTO tb_apartamento_log SELECT nextval('seq_tb_apartamento_log'),user::INTEGER, now(), 'D', old.*;						  
		
		ELSIF (TG_OP = 'UPDATE') THEN
			INSERT INTO tb_apartamento_log SELECT nextval('seq_tb_apartamento_log'),user::INTEGER, now(), 'U', new.*;

		ELSIF (TG_OP = 'INSERT') THEN
			INSERT INTO tb_apartamento_log SELECT nextval('seq_tb_apartamento_log'),user::INTEGER, now(), 'I', new.*;
			RETURN NEW;
		END IF;
		
		RETURN NULL;
	
	END;
$tb_apartamento_log$ LANGUAGE 'plpgsql';	

CREATE TRIGGER tg_tb_apartamento_log
AFTER INSERT OR UPDATE OR DELETE ON tb_apartamento
	FOR EACH ROW EXECUTE PROCEDURE fc_tg_apartamento_log(); 
	
	

CREATE OR REPLACE FUNCTION fc_tg_categoria_log() RETURNS TRIGGER 
AS $tb_categoria_log$
	BEGIN 
		
		IF (TG_OP = 'DELETE') THEN
			INSERT INTO tb_categoria_log SELECT nextval('seq_tb_categoria_log'),user::INTEGER, now(), 'D', old.*;						  
		
		ELSIF (TG_OP = 'UPDATE') THEN
			INSERT INTO tb_categoria_log SELECT nextval('seq_tb_categoria_log'),user::INTEGER, now(), 'U', new.*;

		ELSIF (TG_OP = 'INSERT') THEN
			INSERT INTO tb_categoria_log SELECT nextval('seq_tb_categoria_log'),user::INTEGER, now(), 'I', new.*;
			RETURN NEW;
		END IF;
		
		RETURN NULL;
	
	END;
$tb_categoria_log$ LANGUAGE 'plpgsql';	

CREATE TRIGGER tg_tb_categoria_log
AFTER INSERT OR UPDATE OR DELETE ON tb_categoria
	FOR EACH ROW EXECUTE PROCEDURE fc_tg_categoria_log(); 
	
	
CREATE OR REPLACE FUNCTION fc_tg_categoria_valor_log() RETURNS TRIGGER 
AS $tb_categoria_valor_log$
	BEGIN 
		
		IF (TG_OP = 'DELETE') THEN
			INSERT INTO tb_categoria_valor_log SELECT nextval('seq_tb_categoria_valor_log'),user::INTEGER, now(), 'D', old.*;						  
		
		ELSIF (TG_OP = 'UPDATE') THEN
			INSERT INTO tb_categoria_valor_log SELECT nextval('seq_tb_categoria_valor_log'),user::INTEGER, now(), 'U', new.*;

		ELSIF (TG_OP = 'INSERT') THEN
			INSERT INTO tb_categoria_valor_log SELECT nextval('seq_tb_categoria_valor_log'),user::INTEGER, now(), 'I', new.*;
			RETURN NEW;
		END IF;
		
		RETURN NULL;
	
	END;
$tb_categoria_valor_log$ LANGUAGE 'plpgsql';	

CREATE TRIGGER tg_tb_categoria_valor_log
AFTER INSERT OR UPDATE OR DELETE ON tb_categoria_valor
	FOR EACH ROW EXECUTE PROCEDURE fc_tg_categoria_valor_log(); 
	
CREATE OR REPLACE FUNCTION fc_tg_itens_orcamento_log() RETURNS TRIGGER
AS $tb_itens_orcamento_log$
	BEGIN 
		
		IF (TG_OP = 'DELETE') THEN
			INSERT INTO tb_itens_orcamento_log SELECT nextval('seq_tb_itens_orcamento_log'),user::INTEGER, now(), 'D', old.*;						  
		
		ELSIF (TG_OP = 'UPDATE') THEN
			INSERT INTO tb_itens_orcamento_log SELECT nextval('seq_tb_itens_orcamento_log'),user::INTEGER, now(), 'U', new.*;

		ELSIF (TG_OP = 'INSERT') THEN
			INSERT INTO tb_itens_orcamento_log SELECT nextval('seq_tb_itens_orcamento_log'),user::INTEGER, now(), 'I', new.*;
			RETURN NEW;
		END IF;
		
		RETURN NULL;
	
	END;
$tb_itens_orcamento_log$ LANGUAGE 'plpgsql';	

CREATE TRIGGER tg_tb_itens_orcamento_log
AFTER INSERT OR UPDATE OR DELETE ON tb_itens_orcamento
	FOR EACH ROW EXECUTE PROCEDURE fc_tg_itens_orcamento_log(); 
	
	
CREATE OR REPLACE FUNCTION fc_tg_morador_endereco_log() RETURNS TRIGGER 
AS $tb_morador_endereco_log$
	BEGIN 
		
		IF (TG_OP = 'DELETE') THEN
			INSERT INTO tb_morador_endereco_log SELECT nextval('seq_tb_morador_endereco_log'),user::INTEGER, now(), 'D', old.*;						  
		
		ELSIF (TG_OP = 'UPDATE') THEN
			INSERT INTO tb_morador_endereco_log SELECT nextval('seq_tb_morador_endereco_log'),user::INTEGER, now(), 'U', new.*;

		ELSIF (TG_OP = 'INSERT') THEN
			INSERT INTO tb_morador_endereco_log SELECT nextval('seq_tb_morador_endereco_log'),user::INTEGER, now(), 'I', new.*;
			RETURN NEW;
		END IF;
		
		RETURN NULL;
	
	END;
$tb_morador_endereco_log$ LANGUAGE 'plpgsql';	

CREATE TRIGGER tg_tb_morador_endereco_log
AFTER INSERT OR UPDATE OR DELETE ON tb_morador_endereco
	FOR EACH ROW EXECUTE PROCEDURE fc_tg_morador_endereco_log(); 
	

CREATE OR REPLACE FUNCTION fc_tg_ocorrencia_pf_envolvida_log() RETURNS TRIGGER 
AS $tb_ocorrencia_pf_envolvida_log$
	BEGIN 
		
		IF (TG_OP = 'DELETE') THEN
			INSERT INTO tb_ocorrencia_pf_envolvida_log SELECT nextval('seq_tb_ocorrencia_pf_envolvida_log'),user::INTEGER, now(), 'D', old.*;						  
		
		ELSIF (TG_OP = 'UPDATE') THEN
			INSERT INTO tb_ocorrencia_pf_envolvida_log SELECT nextval('seq_tb_ocorrencia_pf_envolvida_log'),user::INTEGER, now(), 'U', new.*;

		ELSIF (TG_OP = 'INSERT') THEN
			INSERT INTO tb_ocorrencia_pf_envolvida_log SELECT nextval('seq_tb_ocorrencia_pf_envolvida_log'),user::INTEGER, now(), 'I', new.*;
			RETURN NEW;
		END IF;
		
		RETURN NULL;
	
	END;
$tb_ocorrencia_pf_envolvida_log$ LANGUAGE 'plpgsql';	

CREATE TRIGGER tg_tb_ocorrencia_pf_envolvida_log
AFTER INSERT OR UPDATE OR DELETE ON tb_ocorrencia_pf_envolvida
	FOR EACH ROW EXECUTE PROCEDURE fc_tg_ocorrencia_pf_envolvida_log(); 
	
CREATE OR REPLACE FUNCTION fc_tg_ocorrencia_log() RETURNS TRIGGER 
AS $tb_ocorrencia_log$
	BEGIN 
		
		IF (TG_OP = 'DELETE') THEN
			INSERT INTO tb_ocorrencia_log SELECT nextval('seq_tb_ocorrencia_log'),user::INTEGER, now(), 'D', old.*;						  
		
		ELSIF (TG_OP = 'UPDATE') THEN
			INSERT INTO tb_ocorrencia_log SELECT nextval('seq_tb_ocorrencia_log'),user::INTEGER, now(), 'U', new.*;

		ELSIF (TG_OP = 'INSERT') THEN
			INSERT INTO tb_ocorrencia_log SELECT nextval('seq_tb_ocorrencia_log'),user::INTEGER, now(), 'I', new.*;
			RETURN NEW;
		END IF;
		
		RETURN NULL;
	
	END;
$tb_ocorrencia_log$ LANGUAGE 'plpgsql';	

CREATE TRIGGER tg_tb_ocorrencia_log
AFTER INSERT OR UPDATE OR DELETE ON tb_ocorrencia
	FOR EACH ROW EXECUTE PROCEDURE fc_tg_ocorrencia_log(); 
	

CREATE OR REPLACE FUNCTION fc_tg_orcamento_log() RETURNS TRIGGER 
AS $tb_orcamento_log$
	BEGIN 
		
		IF (TG_OP = 'DELETE') THEN
			INSERT INTO tb_orcamento_log SELECT nextval('seq_tb_orcamento_log'),user::INTEGER, now(), 'D', old.*;						  
		
		ELSIF (TG_OP = 'UPDATE') THEN
			INSERT INTO tb_orcamento_log SELECT nextval('seq_tb_orcamento_log'),user::INTEGER, now(), 'U', new.*;

		ELSIF (TG_OP = 'INSERT') THEN
			INSERT INTO tb_orcamento_log SELECT nextval('seq_tb_orcamento_log'),user::INTEGER, now(), 'I', new.*;
			RETURN NEW;
		END IF;
		
		RETURN NULL;
	
	END;
$tb_orcamento_log$ LANGUAGE 'plpgsql';	

CREATE TRIGGER tg_tb_orcamento_log
AFTER INSERT OR UPDATE OR DELETE ON tb_orcamento
	FOR EACH ROW EXECUTE PROCEDURE fc_tg_orcamento_log(); 
	
CREATE OR REPLACE FUNCTION fc_tg_ordem_servico_log() RETURNS TRIGGER 
AS $tb_ordem_servico_log$
	BEGIN 
		
		IF (TG_OP = 'DELETE') THEN
			INSERT INTO tb_ordem_servico_log SELECT nextval('seq_tb_ordem_servico_log'),user::INTEGER, now(), 'D', old.*;						  
		
		ELSIF (TG_OP = 'UPDATE') THEN
			INSERT INTO tb_ordem_servico_log SELECT nextval('seq_tb_ordem_servico_log'),user::INTEGER, now(), 'U', new.*;

		ELSIF (TG_OP = 'INSERT') THEN
			INSERT INTO tb_ordem_servico_log SELECT nextval('seq_tb_ordem_servico_log'),user::INTEGER, now(), 'I', new.*;
			RETURN NEW;
		END IF;
		
		RETURN NULL;
	
	END;
$tb_ordem_servico_log$ LANGUAGE 'plpgsql';	

CREATE TRIGGER tg_tb_ordem_servico_log
AFTER INSERT OR UPDATE OR DELETE ON tb_ordem_servico
	FOR EACH ROW EXECUTE PROCEDURE fc_tg_ordem_servico_log(); 
	
CREATE OR REPLACE FUNCTION fc_tg_pessoa_fisica_log() RETURNS TRIGGER 
AS $tb_pessoa_fisica_log$
	BEGIN 
		
		IF (TG_OP = 'DELETE') THEN
			INSERT INTO tb_pessoa_fisica_log SELECT nextval('seq_tb_pessoa_fisica_log'),user::INTEGER, now(), 'D', old.*;						  
		
		ELSIF (TG_OP = 'UPDATE') THEN
			INSERT INTO tb_pessoa_fisica_log SELECT nextval('seq_tb_pessoa_fisica_log'),user::INTEGER, now(), 'U', new.*;

		ELSIF (TG_OP = 'INSERT') THEN
			INSERT INTO tb_pessoa_fisica_log SELECT nextval('seq_tb_pessoa_fisica_log'),user::INTEGER, now(), 'I', new.*;
			RETURN NEW;
		END IF;
		
		RETURN NULL;
	
	END;
$tb_pessoa_fisica_log$ LANGUAGE 'plpgsql';	

CREATE TRIGGER tg_tb_pessoa_fisica_log
AFTER INSERT OR UPDATE OR DELETE ON tb_pessoa_fisica
	FOR EACH ROW EXECUTE PROCEDURE fc_tg_pessoa_fisica_log(); 


CREATE OR REPLACE FUNCTION fc_tg_pessoa_juridica_log() RETURNS TRIGGER 
AS $tb_pessoa_juridica_log$
	BEGIN 
		
		IF (TG_OP = 'DELETE') THEN
			INSERT INTO tb_pessoa_juridica_log SELECT nextval('seq_tb_pessoa_juridica_log'),user::INTEGER, now(), 'D', old.*;						  
		
		ELSIF (TG_OP = 'UPDATE') THEN
			INSERT INTO tb_pessoa_juridica_log SELECT nextval('seq_tb_pessoa_juridica_log'),user::INTEGER, now(), 'U', new.*;

		ELSIF (TG_OP = 'INSERT') THEN
			INSERT INTO tb_pessoa_juridica_log SELECT nextval('seq_tb_pessoa_juridica_log'),user::INTEGER, now(), 'I', new.*;
			RETURN NEW;
		END IF;
		
		RETURN NULL;
	
	END;
$tb_pessoa_juridica_log$ LANGUAGE 'plpgsql';	

CREATE TRIGGER tg_tb_pessoa_juridica_log
AFTER INSERT OR UPDATE OR DELETE ON tb_pessoa_juridica
	FOR EACH ROW EXECUTE PROCEDURE fc_tg_pessoa_juridica_log(); 

	
	
CREATE OR REPLACE FUNCTION fc_tg_pf_endereco_log() RETURNS TRIGGER 
AS $tb_pf_endereco_log$
	BEGIN 
		
		IF (TG_OP = 'DELETE') THEN
			INSERT INTO tb_pf_endereco_log SELECT nextval('seq_tb_pf_endereco_log'),user::INTEGER, now(), 'D', old.*;						  
		
		ELSIF (TG_OP = 'UPDATE') THEN
			INSERT INTO tb_pf_endereco_log SELECT nextval('seq_tb_pf_endereco_log'),user::INTEGER, now(), 'U', new.*;

		ELSIF (TG_OP = 'INSERT') THEN
			INSERT INTO tb_pf_endereco_log SELECT nextval('seq_tb_pf_endereco_log'),user::INTEGER, now(), 'I', new.*;
			RETURN NEW;
		END IF;
		
		RETURN NULL;
	
	END;
$tb_pf_endereco_log$ LANGUAGE 'plpgsql';	

CREATE TRIGGER tg_tb_pf_endereco_log
AFTER INSERT OR UPDATE OR DELETE ON tb_pf_endereco
	FOR EACH ROW EXECUTE PROCEDURE fc_tg_pf_endereco_log(); 
	
CREATE OR REPLACE FUNCTION fc_tg_pj_endereco_log() RETURNS TRIGGER 
AS $tb_pj_endereco_log$
	BEGIN 
		
		IF (TG_OP = 'DELETE') THEN
			INSERT INTO tb_pj_endereco_log SELECT nextval('seq_tb_pj_endereco_log'),user::INTEGER, now(), 'D', old.*;						  
		
		ELSIF (TG_OP = 'UPDATE') THEN
			INSERT INTO tb_pj_endereco_log SELECT nextval('seq_tb_pj_endereco_log'),user::INTEGER, now(), 'U', new.*;

		ELSIF (TG_OP = 'INSERT') THEN
			INSERT INTO tb_pj_endereco_log SELECT nextval('seq_tb_pj_endereco_log'),user::INTEGER, now(), 'I', new.*;
			RETURN NEW;
		END IF;
		
		RETURN NULL;
	
	END;
$tb_pj_endereco_log$ LANGUAGE 'plpgsql';	

CREATE TRIGGER tg_tb_pj_endereco_log
AFTER INSERT OR UPDATE OR DELETE ON tb_pj_endereco
	FOR EACH ROW EXECUTE PROCEDURE fc_tg_pj_endereco_log(); 

	
CREATE OR REPLACE FUNCTION fc_tg_profissao_log() RETURNS TRIGGER 
AS $tb_profissao_log$
	BEGIN 
		
		IF (TG_OP = 'DELETE') THEN
			INSERT INTO tb_profissao_log SELECT nextval('seq_tb_profissao_log'),user::INTEGER, now(), 'D', old.*;						  
		
		ELSIF (TG_OP = 'UPDATE') THEN
			INSERT INTO tb_profissao_log SELECT nextval('seq_tb_profissao_log'),user::INTEGER, now(), 'U', new.*;

		ELSIF (TG_OP = 'INSERT') THEN
			INSERT INTO tb_profissao_log SELECT nextval('seq_tb_profissao_log'),user::INTEGER, now(), 'I', new.*;
			RETURN NEW;
		END IF;
		
		RETURN NULL;
	
	END;
$tb_profissao_log$ LANGUAGE 'plpgsql';	

CREATE TRIGGER tg_tb_profissao_log
AFTER INSERT OR UPDATE OR DELETE ON tb_profissao
	FOR EACH ROW EXECUTE PROCEDURE fc_tg_profissao_log(); 
	
	
CREATE OR REPLACE FUNCTION fc_tg_relacionados_log() RETURNS TRIGGER 
AS $tb_relacionados_log$
	BEGIN 
		
		IF (TG_OP = 'DELETE') THEN
			INSERT INTO tb_relacionados_log SELECT nextval('seq_tb_relacionados_log'),user::INTEGER, now(), 'D', old.*;						  
		
		ELSIF (TG_OP = 'UPDATE') THEN
			INSERT INTO tb_relacionados_log SELECT nextval('seq_tb_relacionados_log'),user::INTEGER, now(), 'U', new.*;

		ELSIF (TG_OP = 'INSERT') THEN
			INSERT INTO tb_relacionados_log SELECT nextval('seq_tb_relacionados_log'),user::INTEGER, now(), 'I', new.*;
			RETURN NEW;
		END IF;
		
		RETURN NULL;
	
	END;
$tb_relacionados_log$ LANGUAGE 'plpgsql';	

CREATE TRIGGER tg_tb_relacionados_log
AFTER INSERT OR UPDATE OR DELETE ON tb_relacionados
	FOR EACH ROW EXECUTE PROCEDURE fc_tg_relacionados_log(); 
	
CREATE OR REPLACE FUNCTION fc_tg_servico_adicional_log() RETURNS TRIGGER 
AS $tb_servico_adicional_log$
	BEGIN 
		
		IF (TG_OP = 'DELETE') THEN
			INSERT INTO tb_servico_adicional_log SELECT nextval('seq_tb_servico_adicional_log'),user::INTEGER, now(), 'D', old.*;						  
		
		ELSIF (TG_OP = 'UPDATE') THEN
			INSERT INTO tb_servico_adicional_log SELECT nextval('seq_tb_servico_adicional_log'),user::INTEGER, now(), 'U', new.*;

		ELSIF (TG_OP = 'INSERT') THEN
			INSERT INTO tb_servico_adicional_log SELECT nextval('seq_tb_servico_adicional_log'),user::INTEGER, now(), 'I', new.*;
			RETURN NEW;
		END IF;
		
		RETURN NULL;
	
	END;
$tb_servico_adicional_log$ LANGUAGE 'plpgsql';	

CREATE TRIGGER tg_tb_servico_adicional_log
AFTER INSERT OR UPDATE OR DELETE ON tb_servico_adicional
	FOR EACH ROW EXECUTE PROCEDURE fc_tg_servico_adicional_log(); 
	

CREATE OR REPLACE FUNCTION fc_tg_setor_log() RETURNS TRIGGER 
AS $tb_setor_log$
	BEGIN 
		
		IF (TG_OP = 'DELETE') THEN
			INSERT INTO tb_setor_log SELECT nextval('seq_tb_setor_log'),user::INTEGER, now(), 'D', old.*;						  
		
		ELSIF (TG_OP = 'UPDATE') THEN
			INSERT INTO tb_setor_log SELECT nextval('seq_tb_setor_log'),user::INTEGER, now(), 'U', new.*;

		ELSIF (TG_OP = 'INSERT') THEN
			INSERT INTO tb_setor_log SELECT nextval('seq_tb_setor_log'),user::INTEGER, now(), 'I', new.*;
			RETURN NEW;
		END IF;
		
		RETURN NULL;
	
	END;
$tb_setor_log$ LANGUAGE 'plpgsql';	

CREATE TRIGGER tg_tb_setor_log
AFTER INSERT OR UPDATE OR DELETE ON tb_setor
	FOR EACH ROW EXECUTE PROCEDURE fc_tg_setor_log(); 
	

CREATE OR REPLACE FUNCTION fc_tg_usuario_log() RETURNS TRIGGER 
AS $tb_usuario_log$
	BEGIN 
		
		IF (TG_OP = 'DELETE') THEN
			INSERT INTO tb_usuario_log SELECT nextval('seq_tb_usuario_log'),user::INTEGER, now(), 'D', old.*;						  
		
		ELSIF (TG_OP = 'UPDATE') THEN
			INSERT INTO tb_usuario_log SELECT nextval('seq_tb_usuario_log'),user::INTEGER, now(), 'U', new.*;

		ELSIF (TG_OP = 'INSERT') THEN
			INSERT INTO tb_usuario_log SELECT nextval('seq_tb_usuario_log'),user::INTEGER, now(), 'I', new.*;
			RETURN NEW;
		END IF;
		
		RETURN NULL;
	
	END;
$tb_usuario_log$ LANGUAGE 'plpgsql';	

CREATE TRIGGER tg_tb_usuario_log
AFTER INSERT OR UPDATE OR DELETE ON tb_usuario
	FOR EACH ROW EXECUTE PROCEDURE fc_tg_usuario_log(); 

CREATE OR REPLACE FUNCTION fc_tg_vaga_garagem_log() RETURNS TRIGGER 
AS $tb_vaga_garagem_log$
	BEGIN 
		
		IF (TG_OP = 'DELETE') THEN
			INSERT INTO tb_vaga_garagem_log SELECT nextval('seq_tb_vaga_garagem_log'),user::INTEGER, now(), 'D', old.*;						  
		
		ELSIF (TG_OP = 'UPDATE') THEN
			INSERT INTO tb_vaga_garagem_log SELECT nextval('seq_tb_vaga_garagem_log'),user::INTEGER, now(), 'U', new.*;

		ELSIF (TG_OP = 'INSERT') THEN
			INSERT INTO tb_vaga_garagem_log SELECT nextval('seq_tb_vaga_garagem_log'),user::INTEGER, now(), 'I', new.*;
			RETURN NEW;
		END IF;
		
		RETURN NULL;
	
	END;
$tb_vaga_garagem_log$ LANGUAGE 'plpgsql';	

CREATE TRIGGER tg_tb_vaga_garagem_log
AFTER INSERT OR UPDATE OR DELETE ON tb_vaga_garagem
	FOR EACH ROW EXECUTE PROCEDURE fc_tg_vaga_garagem_log(); 
	
CREATE OR REPLACE FUNCTION fc_tg_pf_telefone_log() RETURNS TRIGGER 
AS $tb_pf_telefone_log$
	BEGIN 
		
		IF (TG_OP = 'DELETE') THEN
			INSERT INTO tb_pf_telefone_log SELECT nextval('seq_tb_pf_telefone_log'),user::INTEGER, now(), 'D', old.*;						  
		
		ELSIF (TG_OP = 'UPDATE') THEN
			INSERT INTO tb_pf_telefone_log SELECT nextval('seq_tb_pf_telefone_log'),user::INTEGER, now(), 'U', new.*;

		ELSIF (TG_OP = 'INSERT') THEN
			INSERT INTO tb_pf_telefone_log SELECT nextval('seq_tb_pf_telefone_log'),user::INTEGER, now(), 'I', new.*;
			RETURN NEW;
		END IF;
		
		RETURN NULL;
	
	END;
$tb_pf_telefone_log$ LANGUAGE 'plpgsql';	

CREATE TRIGGER tg_tb_pf_telefone_log
AFTER INSERT OR UPDATE OR DELETE ON tb_pf_telefone
	FOR EACH ROW EXECUTE PROCEDURE fc_tg_pf_telefone_log(); 



CREATE OR REPLACE FUNCTION fc_tg_pj_telefone_log() RETURNS TRIGGER 
AS $tb_pj_telefone_log$
	BEGIN 
		
		IF (TG_OP = 'DELETE') THEN
			INSERT INTO tb_pj_telefone_log SELECT nextval('seq_tb_pj_telefone_log'),user::INTEGER, now(), 'D', old.*;						  
		
		ELSIF (TG_OP = 'UPDATE') THEN
			INSERT INTO tb_pj_telefone_log SELECT nextval('seq_tb_pj_telefone_log'),user::INTEGER, now(), 'U', new.*;

		ELSIF (TG_OP = 'INSERT') THEN
			INSERT INTO tb_pj_telefone_log SELECT nextval('seq_tb_pj_telefone_log'),user::INTEGER, now(), 'I', new.*;
			RETURN NEW;
		END IF;
		
		RETURN NULL;
	
	END;
$tb_pj_telefone_log$ LANGUAGE 'plpgsql';	

CREATE TRIGGER tg_tb_pj_telefone_log
AFTER INSERT OR UPDATE OR DELETE ON tb_pj_telefone
	FOR EACH ROW EXECUTE PROCEDURE fc_tg_pj_telefone_log();